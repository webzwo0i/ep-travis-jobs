travis_fold:start:worker_infoWorker information
hostname: 932e3abf-206c-431d-880f-5b21056de1d9@1.worker-org-676f4fdd9b-chpm4.gce-production-2
version: v6.2.8 https://github.com/travis-ci/worker/tree/6d3048d96b26562be21fa1a8b8144f4c4cecd083
instance: travis-job-709f8fbc-9956-4391-a9cb-a9935dd9f261 travis-ci-sardonyx-xenial-1553530528-f909ac5 (via amqp)
startup: 6.136791715s
travis_fold:end:worker_infoe:start:090c8790e:end:090c8790:start=1591036802819875531,finish=1591036802953054530,duration=133178999,event=no_world_writable_dirse:start:0a779539e:end:0a779539:start=1591036802955546254,finish=1591036802958218534,duration=2672280,event=setup_filtere:start:1d7c49d1e:end:1d7c49d1:start=1591036802962209218,finish=1591036802969463891,duration=7254673,event=agente:start:0b33b200e:end:0b33b200:start=1591036802971896647,finish=1591036802973920283,duration=2023636,event=check_unsupportede:start:00997140_infoBuild system information
Build language: node_js
Build dist: xenial
Build id: 693563129
Job id: 693563130
Runtime kernel version: 4.15.0-1028-gcp
travis-build version: 442f8723
Build image provisioning date and time
Mon Mar 25 16:43:24 UTC 2019
Operating System Details
Distributor ID:Ubuntu
Description:Ubuntu 16.04.6 LTS
Release:16.04
Codename:xenial
Systemd Version
systemd 229
Cookbooks Version
42e42e4 https://github.com/travis-ci/travis-cookbooks/tree/42e42e4
git version
git version 2.21.0
bash version
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
gcc version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.11) 5.4.0 20160609
docker version
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
clang version
clang version 7.0.0 (tags/RELEASE_700/final)
jq version
jq-1.5
bats version
Bats 0.4.0
shellcheck version
0.6.0
shfmt version
v2.6.3
ccache version
3.2.4
cmake version
cmake version 3.12.4
heroku version
heroku/7.22.7 linux-x64 node-v11.10.1
imagemagick version
Version: ImageMagick 6.8.9-9 Q16 x86_64 2018-09-28 http://www.imagemagick.org
md5deep version
4.4
mercurial version
version 4.8
mysql version
mysql  Ver 14.14 Distrib 5.7.25, for Linux (x86_64) using  EditLine wrapper
openssl version
OpenSSL 1.0.2g  1 Mar 2016
packer version
1.3.3
postgresql client version
psql (PostgreSQL) 10.7 (Ubuntu 10.7-1.pgdg16.04+1)
ragel version
Ragel State Machine Compiler version 6.8 Feb 2013
sudo version
1.8.16
gzip version
gzip 1.6
zip version
Zip 3.0
vim version
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:44:48)
iptables version
iptables v1.6.0
curl version
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
wget version
GNU Wget 1.17.1 built on linux-gnu.
rsync version
rsync  version 3.1.1  protocol version 31
gimme version
v1.5.3
nvm version
0.34.0
perlbrew version
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.86
phpenv version
rbenv 1.1.2
rvm version
rvm 1.29.7 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
default ruby version
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
CouchDB version
couchdb 1.6.1
ElasticSearch version
5.5.0
Installed Firefox version
firefox 63.0.1
MongoDB version
MongoDB 4.0.7
PhantomJS version
2.1.1
Pre-installed PostgreSQL versions
9.4.21
9.5.16
9.6.12
Redis version
redis-server 5.0.4
Pre-installed Go versions
1.11.1
mvn version
Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T18:41:47Z)
gradle version
Gradle 4.10.2!
lein version
Leiningen 2.9.1 on Java 11.0.2 OpenJDK 64-Bit Server VM
Pre-installed Node.js versions
v10.15.3
v11.0.0
v4.9.1
v6.17.0
v8.12.0
v8.15.1
v8.9
phpenv versions
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
composer --version
Composer version 1.8.4 2019-02-11 10:52:10
Pre-installed Ruby versions
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_infoe:end:00997140:start=1591036802976401727,finish=1591036802981057039,duration=4655312,event=show_system_infoe:start:0f46aff8e:end:0f46aff8:start=1591036802983628010,finish=1591036802994486177,duration=10858167,event=rm_riak_sourcee:start:0008c400e:end:0008c400:start=1591036802997309121,finish=1591036803002261724,duration=4952603,event=fix_rwky_redise:start:28e5e828e:end:28e5e828:start=1591036803007143283,finish=1591036803761727153,duration=754583870,event=wait_for_networke:start:00729c28e:end:00729c28:start=1591036803767347333,finish=1591036803948876654,duration=181529321,event=update_apt_keyse:start:11c23308e:end:11c23308:start=1591036803953413748,finish=1591036804002396043,duration=48982295,event=fix_hhvm_sourcee:start:2299dad2e:end:2299dad2:start=1591036804006986251,finish=1591036804009381237,duration=2394986,event=update_mongo_arche:start:0840950ae:end:0840950a:start=1591036804013294781,finish=1591036804051856609,duration=38561828,event=fix_sudo_enabled_trustye:start:127fe350e:end:127fe350:start=1591036804055970023,finish=1591036804058560536,duration=2590513,event=update_glibce:start:0154e9c0e:end:0154e9c0:start=1591036804061743778,finish=1591036804069238933,duration=7495155,event=clean_up_pathe:start:0cc0d390e:end:0cc0d390:start=1591036804073572644,finish=1591036804081069742,duration=7497098,event=fix_resolv_confe:start:0084e550e:end:0084e550:start=1591036804085634791,finish=1591036804093787842,duration=8153051,event=fix_etc_hostse:start:014d4f3fe:end:014d4f3f:start=1591036804098310341,finish=1591036804105951495,duration=7641154,event=fix_mvn_settings_xmle:start:1044dc2ce:end:1044dc2c:start=1591036804109126213,finish=1591036804117396444,duration=8270231,event=no_ipv6_localhoste:start:00736b01e:end:00736b01:start=1591036804121452106,finish=1591036804123743202,duration=2291096,event=fix_etc_mavenrce:start:0fd38663e:end:0fd38663:start=1591036804129559366,finish=1591036804132870654,duration=3311288,event=fix_wwdr_certificatee:start:11273679e:end:11273679:start=1591036804137339131,finish=1591036804159879805,duration=22540674,event=put_localhost_firste:start:0fb6fb5ce:end:0fb6fb5c:start=1591036804164506094,finish=1591036804167203738,duration=2697644,event=home_pathse:start:0e0f2d8ce:end:0e0f2d8c:start=1591036804173104832,finish=1591036804185066456,duration=11961624,event=disable_initramfse:start:00bd5f01e:end:00bd5f01:start=1591036804188657089,finish=1591036804434428399,duration=245771310,event=disable_ssh_roaminge:start:0ea27c50e:end:0ea27c50:start=1591036804438933700,finish=1591036804441681537,duration=2747837,event=debug_toolse:start:14d09d8ae:end:14d09d8a:start=1591036804444822222,finish=1591036804447500938,duration=2678716,event=uninstall_oclinte:start:25770b5ee:end:25770b5e:start=1591036804451840843,finish=1591036804454511720,duration=2670877,event=rvm_usee:start:0e6827cbe:end:0e6827cb:start=1591036804458453616,finish=1591036804465815539,duration=7361923,event=rm_etc_boto_cfge:start:010f2104e:end:010f2104:start=1591036804469826726,finish=1591036804472314852,duration=2488126,event=rm_oraclejdk8_symlinke:start:27edcf00e:end:27edcf00:start=1591036804476449499,finish=1591036804566018835,duration=89569336,event=enable_i386e:start:001d9870e:end:001d9870:start=1591036804570479436,finish=1591036804575539225,duration=5059789,event=update_rubygemse:start:0fead7f6e:end:0fead7f6:start=1591036804580350071,finish=1591036805337841877,duration=757491806,event=ensure_path_componentse:start:05137158e:end:05137158:start=1591036805342781336,finish=1591036805345263992,duration=2482656,event=redefine_curle:start:1074dad8e:end:1074dad8:start=1591036805349727713,finish=1591036805432701030,duration=82973317,event=nonblock_pipee:start:13093336e:end:13093336:start=1591036805437401917,finish=1591036811468298084,duration=6030896167,event=apt_get_updatee:start:049ed891e:end:049ed891:start=1591036811472890984,finish=1591036811475018971,duration=2127987,event=deprecate_xcode_64e:start:0c586d56e:end:0c586d56:start=1591036811479432239,finish=1591036813882971256,duration=2403539017,event=update_herokue:start:058ebaaee:end:058ebaae:start=1591036813887911703,finish=1591036813890728554,duration=2816851,event=shell_session_updatee:start:01cf1c58tutue:end:01cf1c58:start=1591036813895909656,finish=1591036816085338665,duration=2189429009,event=set_docker_mtue:start:0771188be:end:0771188b:start=1591036816089955485,finish=1591036816147500708,duration=57545223,event=resolvconfe:start:286d1aa0e:end:286d1aa0:start=1591036816151598123,finish=1591036816281709564,duration=130111441,event=maven_central_mirrore:start:0614b586e:end:0614b586:start=1591036816287049679,finish=1591036816378629081,duration=91579402,event=maven_httpse:start:1f94c883e:start:01e81450ctl start docker
travis_time:end:01e81450:start=1591036816387164999,finish=1591036816398163557,duration=10998558,event=preparee:end:01e81450:start=1591036816387164999,finish=1591036819403525958,duration=3016360959,event=servicese:start:035b90d4e:end:035b90d4:start=1591036819408004575,finish=1591036819410488959,duration=2484384,event=fix_ps4e:start:1eda3c94e:start:213a2ffc/ether/[secure].git ether/[secure]
Cloning into 'ether/[secure]'...
travis_time:end:213a2ffc:start=1591036819418289706,finish=1591036820419111481,duration=1000821775,event=checkoute:end:213a2ffc:start=1591036819418289706,finish=1591036820479117178,duration=1060827472,event=checkoute:start:1645d2b3Setting environment variables from repository settings
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

Setting environment variables from .travis.yml
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

travis_time:end:1645d2b3:start=1591036820482415527,finish=1591036820489792022,duration=7376495,event=env.installe:start:2c840ddb install lts/*
Downloading and installing node v12.17.0...
Downloading https://nodejs.org/dist/v12.17.0/node-v12.17.0-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v12.17.0 (npm v6.14.4)
travis_time:end:2c840ddb:start=1591036821111117452,finish=1591036823836248917,duration=2725131465,event=setup.install --version
6.14.4
$ nvm --version
0.35.3

travis_fold:start:install.1e:start:01874840plate to settings.json...
Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.

> wd@1.12.1 install /home/travis/build/ether/[secure]/src/node_modules/wd
> node scripts/build-browser-scripts

added 1005 packages in 8.87s
Clearing minified cache...
travis_time:end:01874840:start=1591036824330459608,finish=1591036833716085082,duration=9385625474,event=installe:start:16bac260 install && cd -
audited 1006 packages in 4.28s

24 packages are looking for funding
  run `npm fund` for details

found 1 low severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
/home/travis/build/ether/[secure]
travis_time:end:16bac260:start=1591036833720775747,finish=1591036838714063799,duration=4993288052,event=installe:start:044208dfe    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0 18 9160k   18 1723k    0     0  1516k      0  0:00:06  0:00:01  0:00:05 1516k100 9160k  100 9160k    0     0  6647k      0  0:00:01  0:00:01 --:--:-- 6643k
travis_time:end:044208df:start=1591036838718768797,finish=1591036861342872302,duration=22624103505,event=before_scripte:start:1a9ab794ing bin/installDeps.sh has already been run
Now I will try for 15 seconds to connect to Etherpad on http://localhost:9001
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
Successfully connected to Etherpad on http://localhost:9001
Now run the backend tests

> ep_[secure]@1.8.4 test /home/travis/build/ether/[secure]/src
> nyc mocha --timeout 5000 ../tests/backend/specs/api

All relative paths will be interpreted relative to the identified Etherpad base dir: /home/travis/build/ether/[secure]
Random string used for versioning assets: 33fbc242
[2020-06-01 18:41:15.969] [DEBUG] AbsolutePaths - Relative path "settings.json" can be rewritten to "/home/travis/build/ether/[secure]/settings.json"
[2020-06-01 18:41:15.970] [DEBUG] AbsolutePaths - Relative path "credentials.json" can be rewritten to "/home/travis/build/ether/[secure]/credentials.json"
settings loaded from: /home/travis/build/ether/[secure]/settings.json
No credentials file found in /home/travis/build/ether/[secure]/credentials.json. Ignoring.
[2020-06-01 18:41:15.986] [INFO] console - Using skin "colibris" in dir: /home/travis/build/ether/[secure]/src/static/skins/colibris
[2020-06-01 18:41:15.986] [INFO] console - Session key loaded from: /home/travis/build/ether/[secure]/SESSIONKEY.txt
[2020-06-01 18:41:15.986] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production. File location: /home/travis/build/ether/[secure]/var/dirty.db
[2020-06-01 18:41:16.089] [ERROR] console - 
Error: Cannot find module 'request'
Require stack:
- /home/travis/build/ether/[secure]/tests/backend/specs/api/importexportGetPost.js
- /home/travis/build/ether/[secure]/src/node_modules/mocha/lib/esm-utils.js
- /home/travis/build/ether/[secure]/src/node_modules/mocha/lib/mocha.js
- /home/travis/build/ether/[secure]/src/node_modules/mocha/lib/cli/one-and-dones.js
- /home/travis/build/ether/[secure]/src/node_modules/mocha/lib/cli/options.js
- /home/travis/build/ether/[secure]/src/node_modules/mocha/bin/mocha
    at Function.Module._resolveFilename (internal/modules/cjs/loader.js:966:15)
    at Function.Module._load (internal/modules/cjs/loader.js:842:27)
    at Module.require (internal/modules/cjs/loader.js:1026:19)
    at require (internal/modules/cjs/helpers.js:72:18)
    at Object.<anonymous> (/home/travis/build/ether/[secure]/tests/backend/specs/api/importexportGetPost.js:14:17)
    at Module._compile (internal/modules/cjs/loader.js:1138:30)
    at Module.replacementCompile (/home/travis/build/ether/[secure]/src/node_modules/append-transform/index.js:60:13)
    at Module._extensions..js (internal/modules/cjs/loader.js:1158:10)
    at Object.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/append-transform/index.js:64:4)
    at Module.load (internal/modules/cjs/loader.js:986:32)
    at Function.Module._load (internal/modules/cjs/loader.js:879:14)
    at Module.require (internal/modules/cjs/loader.js:1026:19)
    at require (internal/modules/cjs/helpers.js:72:18)
    at requireOrImport (/home/travis/build/ether/[secure]/src/node_modules/mocha/lib/esm-utils.js:15:12)
    at Object.exports.loadFilesAsync (/home/travis/build/ether/[secure]/src/node_modules/mocha/lib/esm-utils.js:28:26)
    at processTicksAndRejections (internal/process/task_queues.js:97:5)
    at async singleRun (/home/travis/build/ether/[secure]/src/node_modules/mocha/lib/cli/run-helpers.js:107:3)
    at async exports.runMocha (/home/travis/build/ether/[secure]/src/node_modules/mocha/lib/cli/run-helpers.js:144:5)
    at async Object.exports.handler (/home/travis/build/ether/[secure]/src/node_modules/mocha/lib/cli/run.js:306:5)
------------------|---------|----------|---------|---------|----------------------------------------
File              | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                      
------------------|---------|----------|---------|---------|----------------------------------------
All files         |   62.46 |    36.36 |   52.63 |   62.32 |                                        
 AbsolutePaths.js |   75.61 |    63.16 |     100 |   75.61 | 45-47,56-57,100,104-105,115-116,131    
 Cli.js           |   71.43 |       60 |     100 |   69.23 | 34,39,44,49                            
 Settings.js      |   58.85 |    29.82 |   35.71 |   58.85 | ...719-753,761-769,776-784,795-800,815 
 randomstring.js  |     100 |      100 |     100 |     100 |                                        
------------------|---------|----------|---------|---------|----------------------------------------
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! ep_[secure]@1.8.4 test: `nyc mocha --timeout 5000 ../tests/backend/specs/api`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the ep_[secure]@1.8.4 test script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/travis/.npm/_logs/2020-06-01T18_41_16_186Z-debug.log
travis_time:end:1a9ab794:start=1591036861347714324,finish=1591036876238269626,duration=14890555302,event=scriptThe command "tests/frontend/travis/runnerBackend.sh" exited with 1.


Done. Your build exited with 1.
