travis_fold:start:worker_infoWorker information
hostname: c9d45e75-e969-44ac-a9e7-9b094de119ea@1.worker-org-8b5957499-9cftn.gce-production-3
version: v6.2.17 https://github.com/travis-ci/worker/tree/bc420764f334fe0d096a417c80426f672f1b7d18
instance: travis-job-9004dc4f-c442-496a-be43-e98c434f73c7 travis-ci-sardonyx-xenial-1593004276-4d46c6b3 (via amqp)
startup: 5.996733182s
travis_fold:end:worker_infoe:start:02320c68e:end:02320c68:start=1601986579239874157,finish=1601986579397098441,duration=157224284,event=no_world_writable_dirse:start:0023dd42e:end:0023dd42:start=1601986579400222054,finish=1601986579403379558,duration=3157504,event=setup_filtere:start:028196b8e:end:028196b8:start=1601986579410173392,finish=1601986579421819287,duration=11645895,event=agente:start:049ba71fe:end:049ba71f:start=1601986579425551664,finish=1601986579428189821,duration=2638157,event=check_unsupportede:start:038a6710_infoBuild system information
Build language: node_js
Build dist: xenial
Build id: 733305036
Job id: 733305041
Runtime kernel version: 4.15.0-1077-gcp
travis-build version: 68cdc09f
Build image provisioning date and time
Wed Jun 24 13:36:52 UTC 2020
Operating System Details
Distributor ID:Ubuntu
Description:Ubuntu 16.04.6 LTS
Release:16.04
Codename:xenial
Systemd Version
systemd 229
Cookbooks Version
3f92a99 https://github.com/travis-ci/travis-cookbooks/tree/3f92a99
git version
git version 2.27.0
bash version
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
gcc version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609
docker version
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
clang version
clang version 7.0.0 (tags/RELEASE_700/final)
jq version
jq-1.5
bats version
Bats 0.4.0
shellcheck version
0.7.0
shfmt version
v2.6.3
ccache version
3.2.4
cmake version
cmake version 3.12.4
heroku version
heroku/7.42.1 linux-x64 node-v12.16.2
imagemagick version
Version: ImageMagick 6.8.9-9 Q16 x86_64 2019-11-12 http://www.imagemagick.org
md5deep version
4.4
mercurial version
version 4.8
mysql version
mysql  Ver 14.14 Distrib 5.7.30, for Linux (x86_64) using  EditLine wrapper
openssl version
OpenSSL 1.0.2g  1 Mar 2016
packer version
1.3.3
postgresql client version
psql (PostgreSQL) 10.13 (Ubuntu 10.13-1.pgdg16.04+1)
ragel version
Ragel State Machine Compiler version 6.8 Feb 2013
sudo version
1.8.16
gzip version
gzip 1.6
zip version
Zip 3.0
vim version
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Mar 18 2020 14:06:17)
iptables version
iptables v1.6.0
curl version
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
wget version
GNU Wget 1.17.1 built on linux-gnu.
rsync version
rsync  version 3.1.1  protocol version 31
gimme version
v1.5.4
nvm version
0.35.3
perlbrew version
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.88
phpenv version
rbenv 1.1.2-30-gc879cb0
rvm version
rvm 1.29.10 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
default ruby version
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
CouchDB version
couchdb 1.6.1
ElasticSearch version
5.5.0
Installed Firefox version
firefox 63.0.1
MongoDB version
MongoDB 4.0.19
PhantomJS version
2.1.1
Pre-installed PostgreSQL versions
9.4.26
9.5.22
9.6.18
Redis version
redis-server 6.0.5
Pre-installed Go versions
1.11.1
ant version
Apache Ant(TM) version 1.9.6 compiled on July 20 2018
mvn version
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
gradle version
Gradle 5.1.1!
lein version
Leiningen 2.9.3 on Java 11.0.2 OpenJDK 64-Bit Server VM
Pre-installed Node.js versions
v10.21.0
v11.0.0
v12.18.1
v4.9.1
v6.17.1
v8.12.0
v8.17.0
v8.9
phpenv versions
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
composer --version
Composer version 1.8.4 2019-02-11 10:52:10
Pre-installed Ruby versions
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_infoe:end:038a6710:start=1601986579433017261,finish=1601986579440705932,duration=7688671,event=show_system_infoe:start:2ee44840e:end:2ee44840:start=1601986579444496712,finish=1601986579471082293,duration=26585581,event=rm_riak_sourcee:start:0ab6c0b8e:end:0ab6c0b8:start=1601986579474337555,finish=1601986579479712671,duration=5375116,event=fix_rwky_redise:start:0d5d7e04e:end:0d5d7e04:start=1601986579485149014,finish=1601986579949614803,duration=464465789,event=wait_for_networke:start:0aa8c8f5e:end:0aa8c8f5:start=1601986579953733991,finish=1601986580184198352,duration=230464361,event=update_apt_keyse:start:19e65e56e:end:19e65e56:start=1601986580189225933,finish=1601986580242428313,duration=53202380,event=fix_hhvm_sourcee:start:152dcd4ae:end:152dcd4a:start=1601986580247079371,finish=1601986580250615498,duration=3536127,event=update_mongo_arche:start:32f57850e:end:32f57850:start=1601986580255186812,finish=1601986580296897588,duration=41710776,event=fix_sudo_enabled_trustye:start:04f08b90e:end:04f08b90:start=1601986580302362965,finish=1601986580305308993,duration=2946028,event=update_glibce:start:07bc5992e:end:07bc5992:start=1601986580309876527,finish=1601986580318582124,duration=8705597,event=clean_up_pathe:start:251a3287e:end:251a3287:start=1601986580322282441,finish=1601986580330396814,duration=8114373,event=fix_resolv_confe:start:05a4e976e:end:05a4e976:start=1601986580335501667,finish=1601986580344964906,duration=9463239,event=fix_etc_hostse:start:04168390e:end:04168390:start=1601986580349369748,finish=1601986580360828619,duration=11458871,event=fix_mvn_settings_xmle:start:0262f816e:end:0262f816:start=1601986580364926082,finish=1601986580375752737,duration=10826655,event=no_ipv6_localhoste:start:0fbfb800e:end:0fbfb800:start=1601986580380486043,finish=1601986580383473285,duration=2987242,event=fix_etc_mavenrce:start:2669bfcee:end:2669bfce:start=1601986580388539895,finish=1601986580392025749,duration=3485854,event=fix_wwdr_certificatee:start:28d34b20e:end:28d34b20:start=1601986580396795452,finish=1601986580423212317,duration=26416865,event=put_localhost_firste:start:0050f380e:end:0050f380:start=1601986580428673518,finish=1601986580432083335,duration=3409817,event=home_pathse:start:2f9b31aee:end:2f9b31ae:start=1601986580437782882,finish=1601986580451907683,duration=14124801,event=disable_initramfse:start:0a32f1dbe:end:0a32f1db:start=1601986580457012221,finish=1601986580829760788,duration=372748567,event=disable_ssh_roaminge:start:025409d3e:end:025409d3:start=1601986580834767400,finish=1601986580837552162,duration=2784762,event=debug_toolse:start:14dc5f0ae:end:14dc5f0a:start=1601986580842659576,finish=1601986580846292948,duration=3633372,event=uninstall_oclinte:start:0beff762e:end:0beff762:start=1601986580851340201,finish=1601986580855088531,duration=3748330,event=rvm_usee:start:08df926ee:end:08df926e:start=1601986580860216376,finish=1601986580868821789,duration=8605413,event=rm_etc_boto_cfge:start:375f713ce:end:375f713c:start=1601986580872501225,finish=1601986580878672387,duration=6171162,event=rm_oraclejdk8_symlinke:start:11916a34e:end:11916a34:start=1601986580882597920,finish=1601986580995791584,duration=113193664,event=enable_i386e:start:0274253ce:end:0274253c:start=1601986581001120300,finish=1601986581007022691,duration=5902391,event=update_rubygemse:start:22de64d9e:end:22de64d9:start=1601986581011877411,finish=1601986581830409103,duration=818531692,event=ensure_path_componentse:start:02639e15e:end:02639e15:start=1601986581835822557,finish=1601986581838751727,duration=2929170,event=redefine_curle:start:12ff1e25e:end:12ff1e25:start=1601986581843757979,finish=1601986581962867306,duration=119109327,event=nonblock_pipee:start:026ebed0e:end:026ebed0:start=1601986581966699899,finish=1601986587997532551,duration=6030832652,event=apt_get_updatee:start:1196487fe:end:1196487f:start=1601986588003223123,finish=1601986588005825179,duration=2602056,event=deprecate_xcode_64e:start:00b5db62e:end:00b5db62:start=1601986588010548329,finish=1601986590772939600,duration=2762391271,event=update_herokue:start:1c6fe369e:end:1c6fe369:start=1601986590776874808,finish=1601986590779713827,duration=2839019,event=shell_session_updatee:start:09061b60tutue:end:09061b60:start=1601986590783493467,finish=1601986593239717341,duration=2456223874,event=set_docker_mtue:start:0a4db03ce:end:0a4db03c:start=1601986593244647907,finish=1601986593311305096,duration=66657189,event=resolvconfe:start:0e89412ae:end:0e89412a:start=1601986593315221420,finish=1601986593483015382,duration=167793962,event=maven_central_mirrore:start:0e6a7958e:end:0e6a7958:start=1601986593487515402,finish=1601986593579826951,duration=92311549,event=maven_httpse:start:15339d4ce:end:15339d4c:start=1601986593584225035,finish=1601986593586551551,duration=2326516,event=fix_ps4e:start:10bf0a94e:start:0372e450-latency https://github.com/ether/[secure].git ether/[secure]
Cloning into 'ether/[secure]'...
travis_time:end:0372e450:start=1601986593595985130,finish=1601986594474193048,duration=878207918,event=checkoute:end:0372e450:start=1601986593595985130,finish=1601986594542099154,duration=946114024,event=checkoute:start:0126bfcaSetting environment variables from repository settings
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

Setting environment variables from .travis.yml
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

travis_time:end:0126bfca:start=1601986594545958611,finish=1601986594555788357,duration=9829746,event=env.installe:start:2e49ed69 install lts/*
Downloading and installing node v12.18.4...
Downloading https://nodejs.org/dist/v12.18.4/node-v12.18.4-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v12.18.4 (npm v6.14.6)
travis_time:end:2e49ed69:start=1601986595088049683,finish=1601986597890820749,duration=2802771066,event=setup.install --version
6.14.6
$ nvm --version
0.36.0

travis_fold:start:install.1e:start:04157850plate to settings.json...
Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.

> wd@1.12.1 install /home/travis/build/ether/[secure]/src/node_modules/wd
> node scripts/build-browser-scripts

added 701 packages in 7.418s
Clearing minified cache...
travis_time:end:04157850:start=1601986598416954328,finish=1601986606395147453,duration=7978193125,event=installe:start:001fc2f0 install ep_hash_auth ep_cursortrace ep_subscript_and_superscript ep_headings2 ep_author_hover ep_align ep_webrtc ep_table_of_contents ep_font_size ep_markdown ep_spellcheck
npm WARN deprecated minimatch@0.2.14: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated coffee-script@1.3.3: CoffeeScript on NPM has moved to "coffeescript" (no hyphen)
npm WARN deprecated minimatch@0.3.0: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue
npm WARN deprecated graceful-fs@1.2.3: please upgrade to graceful-fs 4 for compatibility with current and future versions of Node.js
npm WARN saveError ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/package.json'
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN enoent ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/package.json'
npm WARN [secure] No description
npm WARN [secure] No repository field.
npm WARN [secure] No README data
npm WARN [secure] No license field.

+ ep_cursortrace@3.0.7
+ ep_markdown@0.1.7
+ ep_headings2@0.1.5
+ ep_author_hover@0.3.1
+ ep_font_size@0.3.8
+ ep_align@0.2.5
+ ep_webrtc@0.1.3
+ ep_subscript_and_superscript@0.1.4
+ ep_table_of_contents@0.2.3
+ ep_hash_auth@3.0.2
+ ep_spellcheck@0.0.7
added 100 packages from 129 contributors and audited 1054 packages in 7.935s

63 packages are looking for funding
  run `npm fund` for details

found 33 vulnerabilities (12 low, 7 moderate, 14 high)
  run `npm audit fix` to fix them, or `npm audit` for details
travis_time:end:001fc2f0:start=1601986606400145800,finish=1601986615181263560,duration=8781117760,event=installe:start:10363994 install && cd -
audited 1138 packages in 4.854s

63 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

/home/travis/build/ether/[secure]
travis_time:end:10363994:start=1601986615191476363,finish=1601986620797848643,duration=5606372280,event=installe:start:1dfdd2e7ing bin/installDeps.sh has already been run
Now I will try for 15 seconds to connect to Etherpad on http://localhost:9001
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
Successfully connected to Etherpad on http://localhost:9001
Now run the backend tests

> ep_[secure]@1.8.6 test /home/travis/build/ether/[secure]/src
> nyc mocha --timeout 30000 --recursive ../tests/backend/specs ../node_modules/ep_*/static/tests/backend/specs

All relative paths will be interpreted relative to the identified Etherpad base dir: /home/travis/build/ether/[secure]
Random string used for versioning assets: a0110a71
[2020-10-06 12:17:06.555] [DEBUG] AbsolutePaths - Relative path "settings.json" can be rewritten to "/home/travis/build/ether/[secure]/settings.json"
[2020-10-06 12:17:06.556] [DEBUG] AbsolutePaths - Relative path "credentials.json" can be rewritten to "/home/travis/build/ether/[secure]/credentials.json"
settings loaded from: /home/travis/build/ether/[secure]/settings.json
No credentials file found in /home/travis/build/ether/[secure]/credentials.json. Ignoring.
[2020-10-06 12:17:06.574] [INFO] console - Using skin "colibris" in dir: /home/travis/build/ether/[secure]/src/static/skins/colibris
[2020-10-06 12:17:06.589] [INFO] console - Session key loaded from: /home/travis/build/ether/[secure]/SESSIONKEY.txt
[2020-10-06 12:17:06.589] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production. File location: /home/travis/build/ether/[secure]/var/dirty.db
[2020-10-06 12:17:10.364] [ERROR] console - soffice (libreoffice) does not exist at this path, check your settings file. File location: /usr/bin/soffice


[2020-10-06 12:17:11.304] [INFO] console - Note: bcrypt library could not be found. bcrypt support will be disabled.
[2020-10-06 12:17:11.304] [INFO] console - Run "npm install bcrypt" to enable bcrypt
[2020-10-06 12:17:11.304] [INFO] console - Note: scrypt library could not be found. scrypt support will be disabled.
[2020-10-06 12:17:11.305] [INFO] console - Run "npm install scrypt" to enable scrypt
[2020-10-06 12:17:11.305] [INFO] console - Note: argon2 library could not be found. argon2 support will be disabled.
[2020-10-06 12:17:11.305] [INFO] console - Run "npm install argon2" to enable argon2
[2020-10-06 12:17:12.336] [INFO] APIHandler - Api key file read from: "/home/travis/build/ether/[secure]/APIKEY.txt"
[2020-10-06 12:17:13.377] [INFO] console - Installed plugins: ep_align@0.2.5, ep_author_hover@0.3.1, ep_cursortrace@3.0.7, ep_font_size@0.3.8, ep_hash_auth@3.0.2, ep_headings2@0.1.5, ep_markdown@0.1.7, ep_spellcheck@0.0.7, ep_subscript_and_superscript@0.1.4, ep_table_of_contents@0.2.3, ep_webrtc@0.1.3
[2020-10-06 12:17:13.429] [INFO] console - Report bugs at https://github.com/ether/[secure]/issues
[2020-10-06 12:17:13.439] [WARN] console - Can't get git version for server header
ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/.git/1fa5949582d9a0e93ebd42d85b992ef08b9'
[2020-10-06 12:17:13.454] [WARN] console - Can't get git version for server header
ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/.git/1fa5949582d9a0e93ebd42d85b992ef08b9'
[2020-10-06 12:17:13.467] [INFO] console - Your Etherpad version is 1.8.6 ()
[2020-10-06 12:17:16.223] [INFO] console - You can access your Etherpad instance at http://localhost:0/
[2020-10-06 12:17:16.223] [WARN] console - Admin username and password not set in settings.json.  To access admin please uncomment and edit 'users' in settings.json
[2020-10-06 12:17:16.223] [WARN] console - Etherpad is running in Development mode.  This mode is slower for users and less secure than production mode.  You should set the NODE_ENV environment variable to production by using: export NODE_ENV=production
  API Versioning
    ✓ errors if can not connect

  OpenAPI definition
    ✓ generates valid openapi definition document (943ms)

  jsonp support
    ✓ supports jsonp calls

  Connectivity For Character Encoding
    ✓ can connect

  API Versioning
    ✓ finds the version tag

  Permission
    ✓ errors with invalid APIKey

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML of a Pad attempting to weird utf8 encoded content (104ms)

  getHTML
    ✓ get the HTML of Pad with emojis

  API Versioning
    ✓ errors if can not connect

  createPad
    ✓ creates a new Pad

  createAuthor
    ✓ Creates an author with a name set

  appendChatMessage
    ✓ Adds a chat message to the pad

  getChatHead
    ✓ Gets the head of chat

  getChatHistory
    ✓ Gets Chat History of a Pad

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML

  getHTML
    ✓ Gets back the HTML of a Pad

  getText
    ✓ Gets back the Text of a Pad

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML

  getHTML
    ✓ Gets back the HTML of a Pad

  getText
    ✓ Gets back the Text of a Pad

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML

  getHTML
    ✓ Gets back the HTML of a Pad

  getText
    ✓ Gets back the Text of a Pad

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML

  getHTML
    ✓ Gets back the HTML of a Pad

  getText
    ✓ Gets back the Text of a Pad

  createPad
    ✓ creates a new Pad

  setHTML
    ✓ Sets the HTML

  getHTML
    ✓ Gets back the HTML of a Pad

  getText
    ✓ Gets back the Text of a Pad

  Connectivity
    ✓ can connect

  API Versioning
    ✓ finds the version tag

  Imports and Exports
    ✓ creates a new Pad, imports content to it, checks that content
    ✓ gets read only pad Id and exports the html and text for this pad
    ✓ Tries to import .etherpad
    ✓ exports Etherpad
    ✓ exports HTML for this Etherpad file
    ✓ tries to import Plain Text to a pad that does not exist
[2020-10-06 12:17:17.559] [INFO] console - skipping test because allowUnknownFileEnds is true
    - Tries to import unsupported file type
    Import/Export tests requiring AbiWord/LibreOffice
      - Tries to import .doc that uses soffice or abiword
      - exports DOC
      - Tries to import .docx that uses soffice or abiword
      - exports DOC from imported DOCX
      - Tries to import .pdf that uses soffice or abiword
      - exports PDF
      - Tries to import .odt that uses soffice or abiword
      - exports ODT

  Connectivity for instance-level API tests
    ✓ can connect

  getStats
    ✓ Gets the stats of a running instance

  Connectivity
    ✓ can connect

  API Versioning
    ✓ finds the version tag

  Permission
    ✓ errors with invalid APIKey

  deletePad
    ✓ deletes a Pad

  createPad
    ✓ creates a new Pad

  getRevisionsCount
    ✓ gets revision count of Pad

  getSavedRevisionsCount
    ✓ gets saved revisions count of Pad

  listSavedRevisions
    ✓ gets saved revision list of Pad

  getHTML
    ✓ get the HTML of Pad

  listAllPads
    ✓ list all pads

  deletePad
    ✓ deletes a Pad

  listAllPads
    ✓ list all pads

  getHTML
    ✓ get the HTML of a Pad -- Should return a failure

  createPad
    ✓ creates a new Pad with text

  getText
    ✓ gets the Pad text and expect it to be testText with 
 which is a line break

  setText
    ✓ creates a new Pad with text

  getText
    ✓ gets the Pad text

  getRevisionsCount
    ✓ gets Revision Count of a Pad

  saveRevision
    ✓ saves Revision

  getSavedRevisionsCount
    ✓ gets saved revisions count of Pad

  listSavedRevisions
    ✓ gets saved revision list of Pad

  padUsersCount
    ✓ gets User Count of a Pad

  getReadOnlyID
    ✓ Gets the Read Only ID of a Pad

  listAuthorsOfPad
    ✓ Get Authors of the Pad

  getLastEdited
    ✓ Get When Pad was left Edited

  setText
    ✓ creates a new Pad with text

  getLastEdited
    ✓ Get When Pad was left Edited

  padUsers
    ✓ gets User Count of a Pad

  deletePad
    ✓ deletes a Pad

  createPad
    ✓ creates a new Pad with text

  setText
    ✓ Sets text on a pad Id

  getText
    ✓ Gets text on a pad Id

  setText
    ✓ Sets text on a pad Id including an explicit newline

  getText
    ✓ Gets text on a pad Id and doesn't have an excess newline

  getLastEdited
    ✓ Gets when pad was last edited

  movePad
    ✓ Move a Pad to a different Pad ID

  getText
    ✓ Gets text on a pad Id

  movePad
    ✓ Move a Pad to a different Pad ID

  getText
    ✓ Gets text on a pad Id

  getLastEdited
    ✓ Gets when pad was last edited

  appendText
    ✓ Append text to a pad Id

  getText
    ✓ Gets text on a pad Id

  setHTML
    ✓ Sets the HTML of a Pad attempting to pass ugly HTML

  setHTML
    ✓ Sets the HTML of a Pad with complex nested lists of different types

  getHTML
    ✓ Gets back the HTML of a Pad with complex nested lists of different types

  setHTML
    ✓ Sets the HTML of a Pad with white space between list items

  getHTML
    ✓ Gets back the HTML of a Pad with complex nested lists of different types

  createPad
    ✓ errors if pad can be created

  copyPad
    ✓ copies the content of a existent pad

  copyPadWithoutHistory
    ✓ returns a successful response
    ✓ creates a new pad with the same content as the source pad
    when try copy a pad with a group that does not exist
      ✓ throws an error
    when try copy a pad and destination pad already exist
      and force is false
        ✓ throws an error
      and force is true
        ✓ returns a successful response

  API Versioning
    ✓ errors if can not connect

  API: Group creation and deletion
    ✓ createGroup
    ✓ listSessionsOfGroup for empty group
    ✓ deleteGroup
    ✓ createGroupIfNotExistsFor

  API: Author creation
    ✓ createGroup
    ✓ createAuthor
    ✓ createAuthor with name
    ✓ createAuthorIfNotExistsFor
    ✓ getAuthorName

  API: Sessions
    ✓ createSession
    ✓ getSessionInfo
    ✓ listSessionsOfGroup
    ✓ deleteSession
    ✓ getSessionInfo of deleted session

  API: Group pad management
    ✓ listPads
    ✓ createGroupPad
    ✓ listPads after creating a group pad

  API: Pad security
    ✓ getPublicStatus
    ✓ setPublicStatus
    ✓ getPublicStatus after changing public status
    ✓ isPasswordProtected
    ✓ setPassword
    ✓ isPasswordProtected after setting password

  API: Misc
    ✓ listPadsOfAuthor

  tidyHtml
    - Tidies HTML
    - can deal with errors

  nestedLi
    ✓ Complex nested Li

  complexNest
    ✓ Complex list of different types

  ul
    ✓ Tests if uls properly get attributes

  ulIndented
    ✓ Tests if indented uls properly get attributes

  ol
    ✓ Tests if ols properly get line numbers when in a normal OL

  lineDoBreakInOl
    ✓ A single completely empty line break within an ol should reset count if OL is closed off..

  bulletListInOL
    ✓ A bullet within an OL should not change numbering..

  testP
    ✓ A single <p></p> should create a new line

  nestedOl
    - DISABLED:

  lineDontBreakOL
    - DISABLED:

  promises.timesLimit
    ✓ honors concurrency
    ✓ creates another when one completes
    ✓ creates the expected total number of promises
    ✓ resolves
    ✓ does not create too many promises if total < concurrency
    ✓ accepts total === 0, concurrency > 0
    ✓ accepts total === 0, concurrency === 0
    ✓ rejects total > 0, concurrency === 0

  socket.io access checks
    Normal accesses
[2020-10-06 12:17:18.178] [INFO] access - [CREATE] pad:pad socket:QUYERSQx0nSc-dg_AAAA IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
      ✓ !authn anonymous cookie /p/pad -> 200, ok (79ms)
[2020-10-06 12:17:18.192] [INFO] access - [LEAVE] pad:pad socket:QUYERSQx0nSc-dg_AAAA IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
[2020-10-06 12:17:18.208] [INFO] access - [CREATE] pad:pad socket:sQ113wRn1bgCaI2LAAAB IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
      ✓ !authn !cookie -> ok
[2020-10-06 12:17:18.216] [INFO] access - [LEAVE] pad:pad socket:sQ113wRn1bgCaI2LAAAB IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
[2020-10-06 12:17:18.255] [INFO] access - [CREATE] pad:pad socket:qWjJBWKEQHLNi7KJAAAC IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
      ✓ !authn user /p/pad -> 200, ok (50ms)
[2020-10-06 12:17:18.272] [INFO] access - [LEAVE] pad:pad socket:qWjJBWKEQHLNi7KJAAAC IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB
[2020-10-06 12:17:18.283] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.284] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.308] [INFO] access - [CREATE] pad:pad socket:O-CNqfoSKXO0wVVIAAAD IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ authn user /p/pad -> 200, ok
[2020-10-06 12:17:18.315] [INFO] access - [LEAVE] pad:pad socket:O-CNqfoSKXO0wVVIAAAD IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.320] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.320] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.355] [INFO] access - [CREATE] pad:pad socket:WTKGmZj7toB73ymIAAAE IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ authz user /p/pad -> 200, ok (43ms)
[2020-10-06 12:17:18.362] [INFO] access - [LEAVE] pad:pad socket:WTKGmZj7toB73ymIAAAE IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.367] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.367] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.395] [INFO] access - [CREATE] pad:päd socket:N0Cdd1y3u2_HPIvvAAAF IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ supports pad names with characters that must be percent-encoded
[2020-10-06 12:17:18.401] [INFO] access - [LEAVE] pad:päd socket:N0Cdd1y3u2_HPIvvAAAF IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
    Abnormal access attempts
[2020-10-06 12:17:18.406] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ authn anonymous /p/pad -> 401, error
      ✓ authn !cookie -> error
[2020-10-06 12:17:18.432] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.432] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ authorization bypass attempt -> error
    Authorization levels via authorize hook
[2020-10-06 12:17:18.455] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.455] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.484] [INFO] access - [CREATE] pad:pad socket:wH3E7U__xl8ensmUAAAJ IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ level='create' -> can create
[2020-10-06 12:17:18.489] [INFO] access - [LEAVE] pad:pad socket:wH3E7U__xl8ensmUAAAJ IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.493] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.494] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.527] [INFO] access - [CREATE] pad:pad socket:BSKs2gba-LerZuv-AAAK IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ level=true -> can create (39ms)
[2020-10-06 12:17:18.532] [INFO] access - [LEAVE] pad:pad socket:BSKs2gba-LerZuv-AAAK IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.537] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.537] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.567] [INFO] access - [CREATE] pad:pad socket:W5TxG2UmBwC4w9gnAAAL IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ level='modify' -> can modify
[2020-10-06 12:17:18.572] [INFO] access - [LEAVE] pad:pad socket:W5TxG2UmBwC4w9gnAAAL IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.576] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.576] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ level='create' settings.editOnly=true -> unable to create
[2020-10-06 12:17:18.608] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.608] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ level='modify' settings.editOnly=false -> unable to create
[2020-10-06 12:17:18.635] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.636] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ level='readOnly' -> unable to create
[2020-10-06 12:17:18.665] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.666] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.683] [INFO] access - [CREATE] pad:pad socket:g3kt_ncSuYo8Ytn2AAAP IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ level='readOnly' -> unable to modify
[2020-10-06 12:17:18.688] [INFO] access - [LEAVE] pad:pad socket:g3kt_ncSuYo8Ytn2AAAP IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
    Authorization levels via user settings
[2020-10-06 12:17:18.693] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.693] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.728] [INFO] access - [CREATE] pad:pad socket:9r1YZJCtN8bE2uPFAAAQ IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ user.canCreate = true -> can create and modify (41ms)
[2020-10-06 12:17:18.735] [INFO] access - [LEAVE] pad:pad socket:9r1YZJCtN8bE2uPFAAAQ IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.740] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.741] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ user.canCreate = false -> unable to create
[2020-10-06 12:17:18.774] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.775] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ user.readOnly = true -> unable to create
[2020-10-06 12:17:18.803] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.803] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.825] [INFO] access - [CREATE] pad:pad socket:7-Pps7o-aauNo-hjAAAT IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ user.readOnly = true -> unable to modify
[2020-10-06 12:17:18.831] [INFO] access - [LEAVE] pad:pad socket:7-Pps7o-aauNo-hjAAAT IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.836] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.837] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:18.861] [INFO] access - [CREATE] pad:pad socket:RDfzyZG0MpycDIK2AAAU IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
      ✓ user.readOnly = false -> can create and modify
[2020-10-06 12:17:18.868] [INFO] access - [LEAVE] pad:pad socket:RDfzyZG0MpycDIK2AAAU IP:127.0.0.1 authorID:a.bcrUtZ5bmNnpe4WB username:user
[2020-10-06 12:17:18.872] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.872] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ user.readOnly = true, user.canCreate = true -> unable to create
    Authorization level interaction between authorize hook and user settings
[2020-10-06 12:17:18.898] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.899] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ authorize hook does not elevate level from user settings
[2020-10-06 12:17:18.932] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.932] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ user settings does not elevate level from authorize hook

  webaccess: without plugins
    ✓ !authn !authz anonymous / -> 200
[2020-10-06 12:17:18.964] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ !authn !authz anonymous /admin/ -> 401
[2020-10-06 12:17:18.968] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ authn !authz anonymous / -> 401
[2020-10-06 12:17:18.974] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.974] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authn !authz user / -> 200
[2020-10-06 12:17:18.981] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:18.981] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authn !authz user /admin/ -> 403
[2020-10-06 12:17:18.987] [INFO] console - Error: Failed authentication attempt for admin: no authentication found
[2020-10-06 12:17:18.987] [INFO] http - Successful authentication from IP 127.0.0.1 for username admin
    ✓ authn !authz admin / -> 200
[2020-10-06 12:17:18.996] [INFO] console - Error: Failed authentication attempt for admin: no authentication found
[2020-10-06 12:17:18.997] [INFO] http - Successful authentication from IP 127.0.0.1 for username admin
    ✓ authn !authz admin /admin/ -> 200
[2020-10-06 12:17:19.006] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.007] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authn authz user / -> 403
[2020-10-06 12:17:19.015] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.015] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authn authz user /admin/ -> 403
[2020-10-06 12:17:19.021] [INFO] console - Error: Failed authentication attempt for admin: no authentication found
[2020-10-06 12:17:19.021] [INFO] http - Successful authentication from IP 127.0.0.1 for username admin
    ✓ authn authz admin / -> 200
[2020-10-06 12:17:19.029] [INFO] console - Error: Failed authentication attempt for admin: no authentication found
[2020-10-06 12:17:19.030] [INFO] http - Successful authentication from IP 127.0.0.1 for username admin
    ✓ authn authz admin /admin/ -> 200

  webaccess: preAuthorize, authenticate, and authorize hooks
    preAuthorize
      ✓ defers if it returns []
      ✓ bypasses authenticate and authorize hooks when true is returned
      ✓ bypasses authenticate and authorize hooks when false is returned
      ✓ bypasses authenticate and authorize hooks for static content, defers
[2020-10-06 12:17:19.070] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ cannot grant access to /admin
      ✓ can deny access to /admin
      ✓ runs preAuthzFailure hook when access is denied
[2020-10-06 12:17:19.085] [ERROR] console - Error: exception test
    at Handler.handlers.preAuthorize.<computed>.innerHandle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:216:60)
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:22)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at step1PreAuthorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:31:354)
    at exports.checkAccess (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:41:100)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at cookieParser (/home/travis/build/ether/[secure]/src/node_modules/cookie-parser/index.js:57:14)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at session (/home/travis/build/ether/[secure]/src/node_modules/express-session/index.js:475:7)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node_modules/log4js/lib/connect-logger.js:103:5
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:43:99
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express.js:16:191
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at query (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/query.js:45:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:174:3)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/application.js:174:10)
    at Server.app (/home/travis/build/ether/[secure]/src/node_modules/express/lib/express.js:39:9)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/engine.io/lib/server.js:470:22)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/socket.io/lib/index.js:343:16)
    at Server.emit (events.js:315:20)
    at Server.EventEmitter.emit (domain.js:483:12)
    at parserOnIncoming (_http_server.js:790:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:119:17)
      ✓ returns 500 if an exception is thrown
    authenticate
      ✓ is not called if !requireAuthentication and not /admin/*
[2020-10-06 12:17:19.119] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ is called if !requireAuthentication and /admin/*
[2020-10-06 12:17:19.155] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ defers if empty list returned
[2020-10-06 12:17:19.183] [INFO] http - Successful authentication from IP 127.0.0.1 for username <no username>
      ✓ does not defer if return [true], 200
[2020-10-06 12:17:19.197] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ does not defer if return [false], 401
[2020-10-06 12:17:19.201] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ falls back to HTTP basic auth
[2020-10-06 12:17:19.211] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ passes settings.users in context
[2020-10-06 12:17:19.216] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ passes user, password in context if provided
[2020-10-06 12:17:19.226] [INFO] http - Failed authentication from IP 127.0.0.1
      ✓ does not pass user, password in context if not provided
[2020-10-06 12:17:19.229] [ERROR] http - authenticate hook failed to add user settings to session
      ✓ errors if req.session.user is not created
[2020-10-06 12:17:19.234] [ERROR] console - Error: exception test
    at Handler.handlers.authenticate.<computed>.innerHandle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:292:60)
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:22)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at step3Authenticate (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:37:559)
    at grant (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:8:303)
    at authorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:11:1068)
    at step2PreAuthenticate (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:35:270)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:35:124
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1803)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at step1PreAuthorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:31:354)
    at exports.checkAccess (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:41:100)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at cookieParser (/home/travis/build/ether/[secure]/src/node_modules/cookie-parser/index.js:57:14)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at session (/home/travis/build/ether/[secure]/src/node_modules/express-session/index.js:475:7)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node_modules/log4js/lib/connect-logger.js:103:5
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:43:99
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express.js:16:191
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at query (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/query.js:45:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:174:3)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/application.js:174:10)
    at Server.app (/home/travis/build/ether/[secure]/src/node_modules/express/lib/express.js:39:9)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/engine.io/lib/server.js:470:22)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/socket.io/lib/index.js:343:16)
    at Server.emit (events.js:315:20)
    at Server.EventEmitter.emit (domain.js:483:12)
    at parserOnIncoming (_http_server.js:790:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:119:17)
      ✓ returns 500 if an exception is thrown
    authorize
[2020-10-06 12:17:19.238] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ is not called if !requireAuthorization (non-/admin)
[2020-10-06 12:17:19.248] [INFO] http - Successful authentication from IP 127.0.0.1 for username admin
      ✓ is not called if !requireAuthorization (/admin)
[2020-10-06 12:17:19.258] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ defers if empty list returned
[2020-10-06 12:17:19.262] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ does not defer if return [true], 200
[2020-10-06 12:17:19.292] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ does not defer if return [false], 403
[2020-10-06 12:17:19.297] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
      ✓ passes req.path in context
[2020-10-06 12:17:19.301] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
[2020-10-06 12:17:19.303] [ERROR] console - Error: exception test
    at Handler.handlers.authorize.<computed>.innerHandle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:348:57)
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:22)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at authorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:11:1556)
    at step4Authorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:40:1193)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:40:1066
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:6:501
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1803)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at step3Authenticate (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:37:559)
    at grant (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:8:303)
    at authorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:11:1068)
    at step2PreAuthenticate (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:35:270)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:35:124
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1803)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2239
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2160
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:455
    at Handler.handle (/home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js:123:14)
    at normalizedhook (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:366)
    at hookCallWrapper (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:588)
    at /home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2061
    at next (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:1872)
    at Object.exports.mapFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:11:2275)
    at aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:1957)
    at Object.exports.aCallFirst (/home/travis/build/ether/[secure]/src/static/js/pluginfw/hooks.js:12:2800)
    at step1PreAuthorize (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:31:354)
    at exports.checkAccess (/home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:41:100)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at cookieParser (/home/travis/build/ether/[secure]/src/node_modules/cookie-parser/index.js:57:14)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at session (/home/travis/build/ether/[secure]/src/node_modules/express-session/index.js:475:7)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node_modules/log4js/lib/connect-logger.js:103:5
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express/webaccess.js:43:99
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at /home/travis/build/ether/[secure]/src/node/hooks/express.js:16:191
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at expressInit (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/init.js:40:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at query (/home/travis/build/ether/[secure]/src/node_modules/express/lib/middleware/query.js:45:5)
    at Layer.handle [as handle_request] (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/layer.js:95:5)
    at trim_prefix (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:317:13)
    at /home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:284:7
    at Function.process_params (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:335:12)
    at next (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:275:10)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/router/index.js:174:3)
    at Function.handle (/home/travis/build/ether/[secure]/src/node_modules/express/lib/application.js:174:10)
    at Server.app (/home/travis/build/ether/[secure]/src/node_modules/express/lib/express.js:39:9)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/engine.io/lib/server.js:470:22)
    at Server.<anonymous> (/home/travis/build/ether/[secure]/src/node_modules/socket.io/lib/index.js:343:16)
    at Server.emit (events.js:315:20)
    at Server.EventEmitter.emit (domain.js:483:12)
    at parserOnIncoming (_http_server.js:790:12)
    at HTTPParser.parserOnHeadersComplete (_http_common.js:119:17)
      ✓ returns 500 if an exception is thrown

  webaccess: authnFailure, authzFailure, authFailure hooks
[2020-10-06 12:17:19.308] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ authn fail, no hooks handle -> 401
[2020-10-06 12:17:19.318] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ authn fail, authnFailure handles
[2020-10-06 12:17:19.331] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ authn fail, authFailure handles
[2020-10-06 12:17:19.349] [INFO] http - Failed authentication from IP 127.0.0.1
    ✓ authnFailure trumps authFailure
[2020-10-06 12:17:19.374] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.375] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authz fail, no hooks handle -> 403
[2020-10-06 12:17:19.401] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.402] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authz fail, authzFailure handles
[2020-10-06 12:17:19.425] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.426] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authz fail, authFailure handles
[2020-10-06 12:17:19.451] [INFO] console - Error: Failed authentication attempt for user: no authentication found
[2020-10-06 12:17:19.452] [INFO] http - Successful authentication from IP 127.0.0.1 for username user
    ✓ authzFailure trumps authFailure

  Automated Backend test!
    ✓ Is a test template that should pass

  export headings to HTML
    when pad text has one Heading
      ✓ returns ok
      ✓ returns HTML with Headings HTML tags
    when pad text has multiple Headings on multiple lines
      ✓ returns ok
      ✓ returns HTML with Multiple Headings HTML tags

[2020-10-06 12:17:19.676] [INFO] console - Stopping Etherpad...
[2020-10-06 12:17:19.679] [INFO] console - Database closed

  214 passing (9s)
  13 pending

------------------------|---------|----------|---------|---------|----------------------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                
------------------------|---------|----------|---------|---------|----------------------------------
All files               |   37.99 |    26.83 |   36.45 |   38.17 |                                  
 node                   |    67.5 |    31.58 |   44.44 |   72.22 |                                  
  padaccess.js          |      20 |        0 |       0 |      20 | 5-20                             
  server.js             |   72.73 |     37.5 |   42.86 |   79.31 | 70-72,118-129                    
  stats.js              |     100 |      100 |     100 |     100 |                                  
 node/db                |   37.81 |    17.02 |   26.06 |   37.83 |                                  
  API.js                |   23.95 |        0 |       0 |   24.05 | ...7-788,814-815,829-849,866-951 
  AuthorManager.js      |      55 |    16.67 |   42.86 |    56.9 | ...8,178,193-203,214-231,241-248 
  DB.js                 |   89.29 |       50 |     100 |   89.29 | 45-47                            
  GroupManager.js       |   15.79 |        0 |       0 |   16.67 | ...6-111,117-137,143-166,171-182 
  Pad.js                |    38.1 |    18.18 |   21.05 |   38.56 | ...9-600,604,608,613-629,639-650 
  PadManager.js         |   64.86 |    35.71 |   73.33 |   62.86 | ...92,98-100,116,122-128,152-154 
  ReadOnlyManager.js    |   88.89 |    66.67 |      50 |   88.89 | 32,60                            
  SecurityManager.js    |   59.42 |    46.15 |      50 |   58.46 | ...8,67-68,88-89,105-106,120-149 
  SessionManager.js     |   14.85 |     2.04 |    9.09 |   14.29 | ...8-186,195-220,227-233,239-277 
  SessionStore.js       |   76.47 |       50 |      75 |   76.47 | 26-29,40-41                      
 node/eejs              |   91.18 |    83.33 |   69.23 |   91.04 |                                  
  index.js              |   91.18 |    83.33 |   69.23 |   91.04 | 43,53,92,130,138,147             
 node/handler           |      28 |    17.77 |   21.79 |   28.55 |                                  
  APIHandler.js         |   64.58 |    14.29 |       0 |   64.58 | 40-42,166-199                    
  ExportHandler.js      |   27.59 |     8.33 |       0 |   28.57 | 39,44,55-130,136-138             
  ImportHandler.js      |   18.18 |     4.17 |       0 |   18.49 | 46,51-52,62-264,279-289          
  PadMessageHandler.js  |   23.42 |    20.16 |   19.61 |    23.9 | ...1180,1197-1460,1481,1491-1509 
  SocketIORouter.js     |   84.21 |    64.29 |     100 |   84.21 | 63,82-83,86-87,109               
 node/hooks             |   56.39 |       28 |      50 |   59.84 |                                  
  express.js            |   66.67 |       50 |     100 |   68.97 | 25,31,45-46,52-70,80,98,111      
  i18n.js               |   47.95 |    10.71 |   35.71 |   51.56 | ...0,72-75,88,97,112-117,122-123 
 node/hooks/express     |   57.84 |    50.21 |   42.02 |   57.48 |                                  
  admin.js              |   83.33 |       50 |     100 |     100 | 5                                
  adminplugins.js       |   19.12 |        0 |   10.53 |   20.31 | 11-17,21-24,35-127               
  adminsettings.js      |   31.03 |        0 |   22.22 |   33.33 | 9-15,24-52                       
  apicalls.js           |   44.44 |      100 |   16.67 |   44.44 | 9-11,17-24,30                    
  errorhandling.js      |     100 |       50 |     100 |     100 | 12                               
  importexport.js       |   30.91 |        0 |      25 |   31.48 | 14,24-58,65-101                  
  isValidJSONPName.js   |      30 |        0 |       0 |      30 | 71-82                            
  openapi.js            |   56.64 |       35 |   27.27 |   56.76 | ...9-570,587-590,598-638,649-695 
  padreadonly.js        |   38.46 |        0 |      50 |   38.46 | 10-22                            
  padurlsanitize.js     |   47.06 |       50 |     100 |      50 | 10-11,21-26                      
  socketio.js           |   92.11 |    83.33 |     100 |   94.29 | 62-63                            
  specialpages.js       |   56.25 |    33.33 |      30 |   56.25 | 11,23,30-37,64-68,77-85          
  static.js             |   62.96 |      100 |      20 |   62.96 | 41-56                            
  tests.js              |   26.42 |        0 |    6.25 |      28 | ...28-40,44-52,57-58,62,69-86,91 
  webaccess.js          |   96.05 |     91.3 |     100 |   96.83 | 33-35,117-118                    
 node/utils             |   31.13 |     18.7 |   30.48 |   31.76 |                                  
  AbsolutePaths.js      |   75.61 |    63.16 |     100 |   75.61 | ...56-57,100,104-105,115-116,131 
  Cli.js                |   71.43 |       60 |     100 |   69.23 | 34,39,44,49                      
  ExportEtherpad.js     |       8 |        0 |       0 |     8.7 | 22-61                            
  ExportHelper.js       |    8.89 |        0 |       0 |    9.09 | 24-43,48-82,87-88                
  ExportHtml.js         |     6.2 |        0 |       0 |    6.38 | 28-36,44-484,489-500,518-582     
  ExportTxt.js          |    5.17 |        0 |       0 |     5.5 | 28-257,264-265                   
  ImportEtherpad.js     |   13.64 |        0 |       0 |   13.64 | 22-68                            
  ImportHtml.js         |   15.22 |        0 |       0 |   15.22 | 26-105                           
  Minify.js             |   38.94 |    32.95 |   29.55 |   40.91 | ...4,370,372-388,391-400,410,412 
  NodeVersion.js        |   72.73 |       50 |     100 |   72.73 | 34-35,51                         
  RemoteAddress.js      |     100 |      100 |     100 |     100 |                                  
  Settings.js           |   70.61 |    36.84 |   78.57 |   70.61 | ...5,753-787,795-803,829-834,849 
  TidyHtml.js           |      20 |        0 |       0 |      20 | 10-39                            
  UpdateCheck.js        |   57.69 |       20 |   66.67 |   65.22 | 16,23-24,30-34,40-41             
  caching_middleware.js |   17.14 |     3.45 |     8.7 |   17.82 | 43,52-61,69-70,85-216            
  customError.js        |      25 |        0 |       0 |      25 | 17-19                            
  padDiff.js            |    5.37 |        0 |       0 |    5.49 | ...8-211,217-221,226-253,258-481 
  path_exists.js        |     100 |    33.33 |     100 |     100 | 4                                
  promises.js           |   60.87 |    66.67 |   33.33 |   66.67 | 10-35                            
  randomstring.js       |     100 |      100 |     100 |     100 |                                  
  toolbar.js            |   79.27 |    85.19 |   72.41 |   79.01 | ...2,125-126,131-158,241-245,251 
 static/js              |   29.05 |    24.85 |   32.86 |   29.21 |                                  
  AttributeManager.js   |    7.19 |        0 |       0 |    7.53 | 34-36,48-419                     
  AttributePool.js      |   48.84 |    35.71 |    37.5 |   51.22 | 43,52-56,60-62,66-68,72-74,86-92 
  Changeset.js          |   24.87 |    15.32 |   35.42 |   24.93 | ...2180-2207,2211-2237,2247-2322 
  ChangesetUtils.js     |   16.67 |        0 |       0 |   16.67 | 23-33,39-49,55-58                
  ace2_common.js        |   28.57 |        0 |       0 |   33.33 | 27-80                            
  contentcollector.js   |   61.96 |    56.23 |      74 |   62.61 | ...2-704,713,744,756-758,804-852 
  pad_utils.js          |    7.34 |     1.85 |    2.33 |    7.01 | 45-475,483-523,533-536,543-553   
  security.js           |     100 |      100 |     100 |     100 |                                  
  underscore.js         |     100 |      100 |     100 |     100 |                                  
 static/js/pluginfw     |   66.37 |    55.87 |   66.67 |   69.25 |                                  
  hooks.js              |   59.35 |    45.59 |   70.97 |   62.77 | ...0-134,139-142,163-165,174-182 
  installer.js          |   17.11 |        0 |       0 |    19.4 | ...34,42-52,62-72,81-101,108-132 
  plugin_defs.js        |     100 |      100 |     100 |     100 |                                  
  plugins.js            |    90.1 |       80 |   82.14 |      90 | 17-20,24,64-65,141-144,152,155   
  read-installed.js     |   77.36 |    75.42 |      92 |   81.34 | 108,160-161,243,280-284,304-335  
  shared.js             |   86.11 |     62.5 |     100 |   85.71 | 10-13,49-52                      
  tsort.js              |   59.26 |    68.75 |   66.67 |   59.09 | 44,61-102                        
------------------------|---------|----------|---------|---------|----------------------------------
travis_time:end:1dfdd2e7:start=1601986620805342199,finish=1601986640087994526,duration=19282652327,event=scriptThe command "tests/frontend/travis/runnerBackend.sh" exited with 0.


Done. Your build exited with 0.
