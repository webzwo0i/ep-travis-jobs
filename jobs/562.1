Using worker: bluebox-jvm-otp.worker.travis-ci.org:travis-linux-9

$ export SAUCE_KEY=[secure]
$ export SAUCE_USER=pita
$ git clone --depth=100 --quiet --branch=develop git://github.com/ether/etherpad-lite.git ether/etherpad-lite
$ cd ether/etherpad-lite
$ git checkout -qf a9436f290a8db6b395fd3f75eb5b9277310b20d5
$ nvm use 0.8
Now using node v0.8.17
$ node --version
v0.8.17
$ npm --version
1.2.0
$ bin/installDeps.sh
Copy the settings template to settings.json...
Ensure that all dependencies are up to date...
npm WARN package.json ep_etherpad-lite@1.2.7 No README.md file found!
npm WARN prefer global npm@1.1.71 should be installed with -g
npm WARN package.json node-redis@0.1.3 No README.md file found!
npm WARN package.json methods@0.0.1 No README.md file found!
npm WARN prefer global jshint@0.9.1 should be installed with -g

> ws@0.4.25 install /home/travis/build/ether/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws
> (node-gyp rebuild 2> builderror.log) || (exit 0)

make: Entering directory `/home/travis/build/ether/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws/build'
  CXX(target) Release/obj.target/bufferutil/src/bufferutil.o
  SOLINK_MODULE(target) Release/obj.target/bufferutil.node
  SOLINK_MODULE(target) Release/obj.target/bufferutil.node: Finished
  COPY Release/bufferutil.node
  CXX(target) Release/obj.target/validation/src/validation.o
  SOLINK_MODULE(target) Release/obj.target/validation.node
  SOLINK_MODULE(target) Release/obj.target/validation.node: Finished
  COPY Release/validation.node
make: Leaving directory `/home/travis/build/ether/etherpad-lite/src/node_modules/socket.io/node_modules/socket.io-client/node_modules/ws/build'
security@1.0.0 node_modules/security

async-stacktrace@0.0.2 node_modules/async-stacktrace

tinycon@0.0.1 node_modules/tinycon

async@0.1.22 node_modules/async

resolve@0.2.3 node_modules/resolve

ejs@0.6.1 node_modules/ejs

require-kernel@1.0.5 node_modules/require-kernel

languages4translatewiki@0.1.3 node_modules/languages4translatewiki

unorm@1.0.0 node_modules/unorm

slide@1.1.3 node_modules/slide

formidable@1.0.9 node_modules/formidable

request@2.9.100 node_modules/request

underscore@1.3.1 node_modules/underscore

yajsml@1.1.6 node_modules/yajsml

semver@1.0.13 node_modules/semver

wd@0.0.26 node_modules/wd

uglify-js@1.2.5 node_modules/uglify-js

npm@1.1.71 node_modules/npm

graceful-fs@1.1.5 node_modules/graceful-fs
└── fast-list@1.0.2

clean-css@0.3.2 node_modules/clean-css
└── optimist@0.1.9

log4js@0.5.6 node_modules/log4js
└── async@0.1.15

jsdom-nocontextifiy@0.2.10 node_modules/jsdom-nocontextifiy
├── cssom@0.2.5
└── htmlparser@1.7.6

npm-registry-client@0.2.10 node_modules/npm-registry-client
├── chownr@0.0.1
├── graceful-fs@1.1.14
├── rimraf@2.0.3
├── retry@0.6.0
├── mkdirp@0.3.4
├── semver@1.1.3
├── couch-login@0.1.15
├── request@2.9.203
└── npmlog@0.0.2 (ansi@0.1.2)

connect@2.4.6 node_modules/connect
├── fresh@0.1.0
├── pause@0.0.1
├── bytes@0.1.0
├── cookie@0.0.4
├── crc@0.2.0
├── debug@0.7.2
├── formidable@1.0.11
├── qs@0.5.1
└── send@0.0.4 (range-parser@0.0.4, mime@1.2.6)

express@3.1.0 node_modules/express
├── methods@0.0.1
├── cookie-signature@0.0.1
├── fresh@0.1.0
├── range-parser@0.0.4
├── buffer-crc32@0.1.1
├── cookie@0.0.5
├── debug@0.7.2
├── commander@0.6.1
├── mkdirp@0.3.3
├── connect@2.7.2 (pause@0.0.1, bytes@0.1.0, formidable@1.0.11, qs@0.5.1)
└── send@0.1.0 (mime@1.2.6)

ueberDB@0.1.9 node_modules/ueberDB
├── channels@0.0.2
├── node-redis@0.1.3
├── dirty@0.9.6
├── async@0.1.15
└── mysql@0.9.5 (hashish@0.0.4)

jshint@0.9.1 node_modules/jshint
├── minimatch@0.0.5 (lru-cache@1.0.6)
└── cli@0.4.3 (glob@3.1.19)

socket.io@0.9.13 node_modules/socket.io
├── policyfile@0.0.4
├── base64id@0.1.0
├── redis@0.7.3
└── socket.io-client@0.9.11 (xmlhttprequest@1.4.2, active-x-obfuscator@0.0.1, ws@0.4.25)
Ensure jQuery is downloaded and up to date...
Clear minfified cache...
ensure custom css/js files are created...
$ export GIT_HASH=$(cat .git/HEAD | head -c 7)
$ tests/frontend/travis/sauce_tunnel.sh
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0 29.3M    0  108k    0     0   230k      0  0:02:10 --:--:--  0:02:10  516k 11 29.3M   11 3502k    0     0  2412k      0  0:00:12  0:00:01  0:00:11 2940k 23 29.3M   23 7066k    0     0  2881k      0  0:00:10  0:00:02  0:00:08 3225k 35 29.3M   35 10.3M    0     0  3061k      0  0:00:09  0:00:03  0:00:06 3310k 46 29.3M   46 13.6M    0     0  3123k      0  0:00:09  0:00:04  0:00:05 3317k 57 29.3M   57 16.9M    0     0  3171k      0  0:00:09  0:00:05  0:00:04 3449k 68 29.3M   68 20.1M    0     0  3200k      0  0:00:09  0:00:06  0:00:03 3429k 80 29.3M   80 23.4M    0     0  3228k      0  0:00:09  0:00:07  0:00:02 3397k 91 29.3M   91 26.9M    0     0  3248k      0  0:00:09  0:00:08  0:00:01 3378k100 29.3M  100 29.3M    0     0  3255k      0  0:00:09  0:00:09 --:--:-- 3378k
Archive:  /tmp/sauce.zip
  inflating: /tmp/NOTICE.txt         
  inflating: /tmp/license.html       
  inflating: /tmp/Sauce-Connect.jar  
2013-02-07 02:01:20.098:INFO::jetty-7.x.y-SNAPSHOT
2013-02-07 02:01:20.168:INFO::Started SelectChannelConnector@0.0.0.0:45564
2013-02-07 02:01:40.043:INFO::jetty-7.x.y-SNAPSHOT
2013-02-07 02:01:40.046:INFO::Started SelectChannelConnector@0.0.0.0:4445
$ tests/frontend/travis/runner.sh
npm WARN package.json ep_etherpad-lite@1.2.7 No README.md file found!
Remote sauce test 'a9436f2 - googlechrome , Linux' started! https://saucelabs.com/jobs/e10eeccd158e46bc962921c516baffcc
Remote sauce test 'a9436f2 - firefox , Linux' started! https://saucelabs.com/jobs/ebe3094d893145ea8c03c6aa07266342
Remote sauce test 'a9436f2 - iexplore 8, Windows 2003' started! https://saucelabs.com/jobs/118ae6daa8c64457bf6f26ed14e8a632
org.eclipse.jetty.io.EofException
at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:912)
at org.eclipse.jetty.http.AbstractGenerator.blockForOutput(AbstractGenerator.java:505)
at org.eclipse.jetty.http.AbstractGenerator.flush(AbstractGenerator.java:436)
at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:90)
at org.eclipse.jetty.server.HttpConnection$Output.flush(HttpConnection.java:1143)
at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:171)
at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:98)
at com.saucelabs.sauceconnect.proxy.IOProxy$$anonfun$proxy$1.apply$mcV$sp(IOProxy.scala:59)
at scala.util.control.Breaks.breakable(Breaks.scala:35)
at com.saucelabs.sauceconnect.proxy.IOProxy$.proxy(IOProxy.scala:50)
at com.saucelabs.sauceconnect.proxy.IOProxy$.proxy(IOProxy.scala:35)
at com.saucelabs.sauceconnect.proxy.ProxyHandler.proxyPlainTextRequest(ProxyHandler.scala:484)
at com.saucelabs.sauceconnect.proxy.ProxyHandler.handle(ProxyHandler.scala:113)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)
at org.eclipse.jetty.server.Server.handle(Server.java:352)
at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:596)
at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1052)
at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:590)
at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:212)
at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:426)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:510)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.access$000(SelectChannelEndPoint.java:34)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)
at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:450)
at java.lang.Thread.run(Thread.java:722)
Caused by: java.io.IOException: Connection reset by peer
at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:89)
at sun.nio.ch.IOUtil.write(IOUtil.java:46)
at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:450)
at org.eclipse.jetty.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:187)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:277)
at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:856)
... 24 more
org.eclipse.jetty.io.EofException
at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:912)
at org.eclipse.jetty.http.AbstractGenerator.blockForOutput(AbstractGenerator.java:505)
at org.eclipse.jetty.http.AbstractGenerator.flush(AbstractGenerator.java:436)
at org.eclipse.jetty.server.HttpOutput.flush(HttpOutput.java:90)
at org.eclipse.jetty.server.HttpConnection$Output.flush(HttpConnection.java:1143)
at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:171)
at org.eclipse.jetty.server.HttpOutput.write(HttpOutput.java:98)
at com.saucelabs.sauceconnect.proxy.IOProxy$$anonfun$proxy$1.apply$mcV$sp(IOProxy.scala:59)
at scala.util.control.Breaks.breakable(Breaks.scala:35)
at com.saucelabs.sauceconnect.proxy.IOProxy$.proxy(IOProxy.scala:50)
at com.saucelabs.sauceconnect.proxy.IOProxy$.proxy(IOProxy.scala:35)
at com.saucelabs.sauceconnect.proxy.ProxyHandler.proxyPlainTextRequest(ProxyHandler.scala:484)
at com.saucelabs.sauceconnect.proxy.ProxyHandler.handle(ProxyHandler.scala:113)
at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:114)
at org.eclipse.jetty.server.Server.handle(Server.java:352)
at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:596)
at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1052)
at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:590)
at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:212)
at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:426)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:510)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.access$000(SelectChannelEndPoint.java:34)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)
at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:450)
at java.lang.Thread.run(Thread.java:722)
Caused by: java.io.IOException: Connection reset by peer
at sun.nio.ch.FileDispatcherImpl.write0(Native Method)
at sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:47)
at sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:89)
at sun.nio.ch.IOUtil.write(IOUtil.java:46)
at sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:450)
at org.eclipse.jetty.io.nio.ChannelEndPoint.flush(ChannelEndPoint.java:187)
at org.eclipse.jetty.io.nio.SelectChannelEndPoint.flush(SelectChannelEndPoint.java:277)
at org.eclipse.jetty.http.HttpGenerator.flushBuffer(HttpGenerator.java:856)
... 24 more
[googlechrome] button_bold.js
[googlechrome]   bold button
[googlechrome]     -> FAILED : "before each" hook Error: the string "Uncaught TypeError: Property 'eval' of
[googlechrome]      object [object Window] is not a function" was thrown, throw an Error :)
[googlechrome]         at Runner.fail (http://localhost:9001/tests/frontend/lib/mocha.js:3786:11)
[googlechrome]         at Runner.uncaught (http://localhost:9001/tests/frontend/lib/mocha.js:4059:8)
[googlechrome]         at uncaught (http://localhost:9001/tests/frontend/lib/mocha.js:4089:10)
[googlechrome]     FINISHED - no test started since 3 minutes, tests stopped
[googlechrome] 
Remote sauce test 'a9436f2 - googlechrome , Linux' finished! https://saucelabs.com/jobs/e10eeccd158e46bc962921c516baffcc

/home/travis/build/ether/etherpad-lite/src/node_modules/wd/lib/webdriver.js:120
      res.setEncoding('utf8');
          ^
TypeError: Object Error: socket hang up has no method 'setEncoding'
    at webdriver._simpleCallback (/home/travis/build/ether/etherpad-lite/src/node_modules/wd/lib/webdriver.js:120:11)
    at ClientRequest.webdriver._jsonWireCall (/home/travis/build/ether/etherpad-lite/src/node_modules/wd/lib/webdriver.js:371:33)
    at ClientRequest.EventEmitter.emit (events.js:96:17)
    at Socket.socketOnEnd [as onend] (http.js:1415:9)
    at TCP.onread (net.js:419:26)
tests/frontend/travis/runner.sh: 15: kill: No such process


Done. Build script exited with 1
