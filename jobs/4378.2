travis_fold:start:worker_infoWorker information
hostname: 40cb7f58-2e49-4a56-adae-921f250d58da@1.worker-org-767b688855-g6j7b.gce-production-3
version: v6.2.8 https://github.com/travis-ci/worker/tree/6d3048d96b26562be21fa1a8b8144f4c4cecd083
instance: travis-job-a18d20f7-8ac4-4491-ae6b-d5b1388fed00 travis-ci-sardonyx-xenial-1553530528-f909ac5 (via amqp)
startup: 6.201279843s
travis_fold:end:worker_infoe:start:048e6472e:end:048e6472:start=1585000637187616212,finish=1585000637336114117,duration=148497905,event=no_world_writable_dirse:start:1c03d775e:end:1c03d775:start=1585000637339029031,finish=1585000637342217318,duration=3188287,event=setup_filtere:start:106e7a00e:end:106e7a00:start=1585000637346521941,finish=1585000637354090700,duration=7568759,event=agente:start:0444c300e:end:0444c300:start=1585000637356769393,finish=1585000637358777085,duration=2007692,event=check_unsupportede:start:0da35aac_infoBuild system information
Build language: node_js
Build dist: xenial
Build id: 666077523
Job id: 666077525
Runtime kernel version: 4.15.0-1028-gcp
travis-build version: 6c0f7380c
Build image provisioning date and time
Mon Mar 25 16:43:24 UTC 2019
Operating System Details
Distributor ID:Ubuntu
Description:Ubuntu 16.04.6 LTS
Release:16.04
Codename:xenial
Systemd Version
systemd 229
Cookbooks Version
42e42e4 https://github.com/travis-ci/travis-cookbooks/tree/42e42e4
git version
git version 2.21.0
bash version
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
gcc version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.11) 5.4.0 20160609
docker version
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
clang version
clang version 7.0.0 (tags/RELEASE_700/final)
jq version
jq-1.5
bats version
Bats 0.4.0
shellcheck version
0.6.0
shfmt version
v2.6.3
ccache version
3.2.4
cmake version
cmake version 3.12.4
heroku version
heroku/7.22.7 linux-x64 node-v11.10.1
imagemagick version
Version: ImageMagick 6.8.9-9 Q16 x86_64 2018-09-28 http://www.imagemagick.org
md5deep version
4.4
mercurial version
version 4.8
mysql version
mysql  Ver 14.14 Distrib 5.7.25, for Linux (x86_64) using  EditLine wrapper
openssl version
OpenSSL 1.0.2g  1 Mar 2016
packer version
1.3.3
postgresql client version
psql (PostgreSQL) 10.7 (Ubuntu 10.7-1.pgdg16.04+1)
ragel version
Ragel State Machine Compiler version 6.8 Feb 2013
sudo version
1.8.16
gzip version
gzip 1.6
zip version
Zip 3.0
vim version
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Nov 24 2016 16:44:48)
iptables version
iptables v1.6.0
curl version
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
wget version
GNU Wget 1.17.1 built on linux-gnu.
rsync version
rsync  version 3.1.1  protocol version 31
gimme version
v1.5.3
nvm version
0.34.0
perlbrew version
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.86
phpenv version
rbenv 1.1.2
rvm version
rvm 1.29.7 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
default ruby version
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
CouchDB version
couchdb 1.6.1
ElasticSearch version
5.5.0
Installed Firefox version
firefox 63.0.1
MongoDB version
MongoDB 4.0.7
PhantomJS version
2.1.1
Pre-installed PostgreSQL versions
9.4.21
9.5.16
9.6.12
Redis version
redis-server 5.0.4
Pre-installed Go versions
1.11.1
mvn version
Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T18:41:47Z)
gradle version
Gradle 4.10.2!
lein version
Leiningen 2.9.1 on Java 11.0.2 OpenJDK 64-Bit Server VM
Pre-installed Node.js versions
v10.15.3
v11.0.0
v4.9.1
v6.17.0
v8.12.0
v8.15.1
v8.9
phpenv versions
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
composer --version
Composer version 1.8.4 2019-02-11 10:52:10
Pre-installed Ruby versions
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_infoe:end:0da35aac:start=1585000637361443342,finish=1585000637371092107,duration=9648765,event=show_system_infoe:start:13bf3f5ce:end:13bf3f5c:start=1585000637374927602,finish=1585000637402546333,duration=27618731,event=rm_riak_sourcee:start:174f1d49e:end:174f1d49:start=1585000637413054839,finish=1585000637433969980,duration=20915141,event=fix_rwky_redise:start:04d78c38e:end:04d78c38:start=1585000637437625474,finish=1585000637770153361,duration=332527887,event=wait_for_networke:start:05d3a2fce:end:05d3a2fc:start=1585000637774602762,finish=1585000637973997743,duration=199394981,event=update_apt_keyse:start:00a3bf06e:end:00a3bf06:start=1585000637978364225,finish=1585000638032000475,duration=53636250,event=fix_hhvm_sourcee:start:0baf811ae:end:0baf811a:start=1585000638036700016,finish=1585000638039585507,duration=2885491,event=update_mongo_arche:start:1695e160e:end:1695e160:start=1585000638043748076,finish=1585000638086724160,duration=42976084,event=fix_sudo_enabled_trustye:start:18ffff38e:end:18ffff38:start=1585000638090508315,finish=1585000638093150863,duration=2642548,event=update_glibce:start:072685e0e:end:072685e0:start=1585000638096991259,finish=1585000638105116136,duration=8124877,event=clean_up_pathe:start:063ef095e:end:063ef095:start=1585000638111206375,finish=1585000638119212594,duration=8006219,event=fix_resolv_confe:start:0c2d2342e:end:0c2d2342:start=1585000638123817737,finish=1585000638134148235,duration=10330498,event=fix_etc_hostse:start:0c00dbbee:end:0c00dbbe:start=1585000638139103905,finish=1585000638147465920,duration=8362015,event=fix_mvn_settings_xmle:start:0601ef5de:end:0601ef5d:start=1585000638150948842,finish=1585000638160831870,duration=9883028,event=no_ipv6_localhoste:start:01433b08e:end:01433b08:start=1585000638165711933,finish=1585000638167948931,duration=2236998,event=fix_etc_mavenrce:start:0dac9290e:end:0dac9290:start=1585000638172833050,finish=1585000638176523947,duration=3690897,event=fix_wwdr_certificatee:start:1d078c40e:end:1d078c40:start=1585000638180618574,finish=1585000638204232257,duration=23613683,event=put_localhost_firste:start:0805fc22e:end:0805fc22:start=1585000638208748106,finish=1585000638212125712,duration=3377606,event=home_pathse:start:1df6f088e:end:1df6f088:start=1585000638216089180,finish=1585000638227826583,duration=11737403,event=disable_initramfse:start:0cb877c6e:end:0cb877c6:start=1585000638232445948,finish=1585000638500394976,duration=267949028,event=disable_ssh_roaminge:start:2f8eea68e:end:2f8eea68:start=1585000638505217986,finish=1585000638509137373,duration=3919387,event=debug_toolse:start:045a23b4e:end:045a23b4:start=1585000638512990658,finish=1585000638516149828,duration=3159170,event=uninstall_oclinte:start:0078842ce:end:0078842c:start=1585000638521019333,finish=1585000638524623582,duration=3604249,event=rvm_usee:start:05dcc252e:end:05dcc252:start=1585000638531600014,finish=1585000638539875467,duration=8275453,event=rm_etc_boto_cfge:start:3a1732d0e:end:3a1732d0:start=1585000638544612706,finish=1585000638547572419,duration=2959713,event=rm_oraclejdk8_symlinke:start:1e64140de:end:1e64140d:start=1585000638554619493,finish=1585000638678793883,duration=124174390,event=enable_i386e:start:2415cc0be:end:2415cc0b:start=1585000638683548214,finish=1585000638688270324,duration=4722110,event=update_rubygemse:start:1fa6c68ce:end:1fa6c68c:start=1585000638695302199,finish=1585000639478660446,duration=783358247,event=ensure_path_componentse:start:1b00ffc3e:end:1b00ffc3:start=1585000639485978891,finish=1585000639488294330,duration=2315439,event=redefine_curle:start:0aeeaa4de:end:0aeeaa4d:start=1585000639493326632,finish=1585000639588158146,duration=94831514,event=nonblock_pipee:start:01087b7be:end:01087b7b:start=1585000639593336394,finish=1585000645625597208,duration=6032260814,event=apt_get_updatee:start:005b3c40e:end:005b3c40:start=1585000645630133956,finish=1585000645632279165,duration=2145209,event=deprecate_xcode_64e:start:1a6d967de:end:1a6d967d:start=1585000645636480004,finish=1585000648101679770,duration=2465199766,event=update_herokue:start:033e7d53e:end:033e7d53:start=1585000648106402166,finish=1585000648108602798,duration=2200632,event=shell_session_updatee:start:00176b57tutue:end:00176b57:start=1585000648112829157,finish=1585000650298249977,duration=2185420820,event=set_docker_mtue:start:02386b00e:end:02386b00:start=1585000650308523579,finish=1585000650372209681,duration=63686102,event=resolvconfe:start:1316a000e:end:1316a000:start=1585000650378357457,finish=1585000650513279804,duration=134922347,event=maven_central_mirrore:start:0cfde2fce:end:0cfde2fc:start=1585000650518182877,finish=1585000650616854057,duration=98671180,event=maven_httpse:start:06a3e0cfe:start:00261660ctl start docker
travis_time:end:00261660:start=1585000650624945731,finish=1585000650636739456,duration=11793725,event=preparee:end:00261660:start=1585000650624945731,finish=1585000653643062113,duration=3018116382,event=servicese:start:02863998e:end:02863998:start=1585000653647952744,finish=1585000653650289374,duration=2336630,event=fix_ps4e:start:0e3958cae:start:023ef434/ether/[secure].git ether/[secure]
Cloning into 'ether/[secure]'...
travis_time:end:023ef434:start=1585000653658583503,finish=1585000654576955355,duration=918371852,event=checkoute:start:01d85150erge:
From https://github.com/ether/[secure]
 * branch            refs/pull/3743/merge -> FETCH_HEAD
travis_time:end:01d85150:start=1585000654582518596,finish=1585000655031672784,duration=449154188,event=checkoute:end:01d85150:start=1585000654582518596,finish=1585000655072105503,duration=489586907,event=checkoute:start:07866836Setting environment variables from repository settings
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

Setting environment variables from .travis.yml
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

travis_time:end:07866836:start=1585000655076447257,finish=1585000655086217715,duration=9770458,event=env.installe:start:1eaa7e5e install lts/*
Downloading and installing node v12.16.1...
Downloading https://nodejs.org/dist/v12.16.1/node-v12.16.1-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v12.16.1 (npm v6.13.4)
travis_time:end:1eaa7e5e:start=1585000655786520849,finish=1585000658473934231,duration=2687413382,event=setup.installe:start:1b70cb99e:end:1b70cb99:start=1585000659544743388,finish=1585000659732113640,duration=187370252,event=setup_cashere:start:002e34dce:end:002e34dc:start=1585000659738117692,finish=1585000659740683105,duration=2565413,event=setup_cashere:start:09407c33pting to download cache archive
fetching cache--linux-xenial-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--node-lts/*.tgz
fetching cache-linux-xenial-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--node-lts/*.tgz
fetching cache--node-lts/*.tgz
fetching cache--linux-xenial-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855--node-lts/*.tgz
found cache
travis_time:end:09407c33:start=1585000659745763121,finish=1585000661817733535,duration=2071970414,event=setup_cashere:start:162ce2cce:end:162ce2cc:start=1585000661967767487,finish=1585000661972963266,duration=5195779,event=setup_cachee:start:000a985de/travis/build/ether/[secure]/node_modules to cache
creating directory /home/travis/build/ether/[secure]/node_modules
travis_time:end:000a985d:start=1585000661982084124,finish=1585000662911380989,duration=929296865,event=setup_cache --version
6.13.4
$ nvm --version
0.35.3

travis_fold:start:installe:start:1213e66c install && cd -

> wd@1.11.4 install /home/travis/build/ether/[secure]/src/node_modules/wd
> node scripts/build-browser-scripts

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 999 packages from 1109 contributors and audited 13795 packages in 13.161s

23 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (5 low, 2 high)
  run `npm audit fix` to fix them, or `npm audit` for details
/home/travis/build/ether/[secure]
travis_time:end:1213e66c:start=1585000663060459995,finish=1585000676891440181,duration=13830980186,event=installe:start:25e6d497e    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0  0 9160k    0  3729    0     0   6965      0  0:22:26 --:--:--  0:22:26  6957100 9160k  100 9160k    0     0  7185k      0  0:00:01  0:00:01 --:--:-- 7190k
travis_time:end:25e6d497:start=1585000676898971695,finish=1585000698422787476,duration=21523815781,event=before_scripte:start:07fe24dfon  6.889MB
Step 1/14 : FROM node:10-buster-slim
10-buster-slim: Pulling from library/node
68ced04f60ab: Pulling fs layer
d08ae0b74f9b: Pulling fs layer
7dab007a0b15: Pulling fs layer
65241cb4f96e: Pulling fs layer
0f1734fe443e: Pulling fs layer
65241cb4f96e: Waiting
0f1734fe443e: Waiting
d08ae0b74f9b: Verifying Checksum
d08ae0b74f9b: Download complete
68ced04f60ab: Verifying Checksum
68ced04f60ab: Download complete
7dab007a0b15: Verifying Checksum
7dab007a0b15: Download complete
65241cb4f96e: Verifying Checksum
65241cb4f96e: Download complete
0f1734fe443e: Verifying Checksum
0f1734fe443e: Download complete
68ced04f60ab: Pull complete
d08ae0b74f9b: Pull complete
7dab007a0b15: Pull complete
65241cb4f96e: Pull complete
0f1734fe443e: Pull complete
Digest: sha256:79d7e216a7979b1733925ef28130ac4f48d360323486d37554f44b8c30add80c
Status: Downloaded newer image for node:10-buster-slim
 ---> bbc29303eff1
Step 2/14 : LABEL maintainer="Etherpad team, https://github.com/ether/[secure]"
 ---> Running in d69b282586a3
Removing intermediate container d69b282586a3
 ---> 9ca61e0f5d27
Step 3/14 : ARG ETHERPAD_PLUGINS=
 ---> Running in 1975bb4ab400
Removing intermediate container 1975bb4ab400
 ---> cc51d86f99e5
Step 4/14 : ENV NODE_ENV=development
 ---> Running in 416a94266728
Removing intermediate container 416a94266728
 ---> f49b25c32789
Step 5/14 : RUN useradd --uid 5001 --create-home etherpad
 ---> Running in 9f4e3739afa8
Removing intermediate container 9f4e3739afa8
 ---> e15ff73ba99a
Step 6/14 : RUN mkdir /opt/[secure] && chown etherpad:etherpad /opt/[secure]
 ---> Running in ff7012c8aa44
Removing intermediate container ff7012c8aa44
 ---> 7b8b3fc03c72
Step 7/14 : USER etherpad:etherpad
 ---> Running in bdb90391b35c
Removing intermediate container bdb90391b35c
 ---> 6b7f07047d36
Step 8/14 : WORKDIR /opt/[secure]
 ---> Running in c74317b660c1
Removing intermediate container c74317b660c1
 ---> 4bb2500a7c6b
Step 9/14 : COPY --chown=etherpad:etherpad ./ ./
 ---> 27807232aca0
Step 10/14 : RUN bin/installDeps.sh && rm -rf ~/.npm/_cacache
 ---> Running in 8f332308ef2d
Copy the settings template to settings.json...
Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.

> wd@1.11.4 install /opt/[secure]/src/node_modules/wd
> node scripts/build-browser-scripts

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.1.2 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.1.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 999 packages from 1109 contributors and audited 13795 packages in 16.922s

23 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (5 low, 2 high)
  run `npm audit fix` to fix them, or `npm audit` for details
Clearing minified cache...
Removing intermediate container 8f332308ef2d
 ---> 88b2409a8848
Step 11/14 : RUN for PLUGIN_NAME in ${ETHERPAD_PLUGINS}; do npm install "${PLUGIN_NAME}"; done
 ---> Running in ddfca50d9669
Removing intermediate container ddfca50d9669
 ---> df38b0f61a3c
Step 12/14 : COPY --chown=etherpad:etherpad ./settings.json.docker /opt/[secure]/settings.json
 ---> 6b268f05ce5e
Step 13/14 : EXPOSE 9001
 ---> Running in b905cd7f6061
Removing intermediate container b905cd7f6061
 ---> 00ff9ef47a19
Step 14/14 : CMD ["node", "node_modules/ep_[secure]/node/server.js"]
 ---> Running in 472adaa6235c
Removing intermediate container 472adaa6235c
 ---> 1af155d67261
Successfully built 1af155d67261
Successfully tagged etherpad:test
travis_time:end:07fe24df:start=1585000698432500610,finish=1585000732384593635,duration=33952093025,event=scriptThe command "docker build -t etherpad:test ." exited with 0.
travis_time:start:0763004ae:end:0763004a:start=1585000732392065053,finish=1585000735861712335,duration=3469647282,event=scriptThe command "docker run -d -p 9001:9001 etherpad:test && sleep 3" exited with 0.
travis_time:start:07089d5e run test-container

> ep_[secure]@1.8.0 test-container /home/travis/build/ether/[secure]/src
> nyc mocha --timeout 5000 ../tests/container/specs/api



  Connectivity
    âœ“ can connect

  API Versioning
    âœ“ finds the version tag

  Permission
    âœ“ errors with invalid APIKey


  3 passing (40ms)

----------|---------|----------|---------|---------|-------------------
File      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
----------|---------|----------|---------|---------|-------------------
All files |       0 |        0 |       0 |       0 |                   
----------|---------|----------|---------|---------|-------------------
travis_time:end:07089d5e:start=1585000735866762672,finish=1585000736785423490,duration=918660818,event=scriptThe command "cd src && npm run test-container" exited with 0.
travis_fold:start:cache.2e:start:04236db6e:end:04236db6:start=1585000736792618120,finish=1585000736795901037,duration=3282917,event=cachee:start:0178e4a4nothing changed
travis_time:end:0178e4a4:start=1585000736800455657,finish=1585000737976277413,duration=1175821756,event=cache[0Ktravis_fold:end:cache.2[0K

Done. Your build exited with 0.
