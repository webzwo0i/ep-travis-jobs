travis_fold:start:worker_infoWorker information
hostname: 760d8643-321e-40c0-a0b7-9116ecc0b2ae@1.worker-com-oss-794dcff96c-c4n8m.gce-production-3
version: v6.2.17 https://github.com/travis-ci/worker/tree/bc420764f334fe0d096a417c80426f672f1b7d18
instance: travis-job-ca5db65b-3a34-4780-8b93-4325559ab276 travis-ci-sardonyx-xenial-1593004276-4d46c6b3 (via amqp)
startup: 6.20892467s
travis_fold:end:worker_infoe:start:007ee1cce:end:007ee1cc:start=1604009313958089397,finish=1604009314113003814,duration=154914417,event=no_world_writable_dirse:start:34dfbfb4e:end:34dfbfb4:start=1604009314115955583,finish=1604009314119025481,duration=3069898,event=setup_filtere:start:1004c058e:end:1004c058:start=1604009314125348317,finish=1604009314133702895,duration=8354578,event=agente:start:0f86be1ae:end:0f86be1a:start=1604009314138674323,finish=1604009314141744498,duration=3070175,event=check_unsupportede:start:16089b8c_infoBuild system information
Build language: node_js
Build dist: xenial
Build id: 196204307
Job id: 420848308
Runtime kernel version: 4.15.0-1077-gcp
travis-build version: 26260d9c
Build image provisioning date and time
Wed Jun 24 13:36:52 UTC 2020
Operating System Details
Distributor ID:Ubuntu
Description:Ubuntu 16.04.6 LTS
Release:16.04
Codename:xenial
Systemd Version
systemd 229
Cookbooks Version
3f92a99 https://github.com/travis-ci/travis-cookbooks/tree/3f92a99
git version
git version 2.27.0
bash version
GNU bash, version 4.3.48(1)-release (x86_64-pc-linux-gnu)
gcc version
gcc (Ubuntu 5.4.0-6ubuntu1~16.04.12) 5.4.0 20160609
docker version
Client:
 Version:           18.06.0-ce
 API version:       1.38
 Go version:        go1.10.3
 Git commit:        0ffa825
 Built:             Wed Jul 18 19:11:02 2018
 OS/Arch:           linux/amd64
 Experimental:      false

Server:
 Engine:
  Version:          18.06.0-ce
  API version:      1.38 (minimum version 1.12)
  Go version:       go1.10.3
  Git commit:       0ffa825
  Built:            Wed Jul 18 19:09:05 2018
  OS/Arch:          linux/amd64
  Experimental:     false
clang version
clang version 7.0.0 (tags/RELEASE_700/final)
jq version
jq-1.5
bats version
Bats 0.4.0
shellcheck version
0.7.0
shfmt version
v2.6.3
ccache version
3.2.4
cmake version
cmake version 3.12.4
heroku version
heroku/7.42.1 linux-x64 node-v12.16.2
imagemagick version
Version: ImageMagick 6.8.9-9 Q16 x86_64 2019-11-12 http://www.imagemagick.org
md5deep version
4.4
mercurial version
version 4.8
mysql version
mysql  Ver 14.14 Distrib 5.7.30, for Linux (x86_64) using  EditLine wrapper
openssl version
OpenSSL 1.0.2g  1 Mar 2016
packer version
1.3.3
postgresql client version
psql (PostgreSQL) 10.13 (Ubuntu 10.13-1.pgdg16.04+1)
ragel version
Ragel State Machine Compiler version 6.8 Feb 2013
sudo version
1.8.16
gzip version
gzip 1.6
zip version
Zip 3.0
vim version
VIM - Vi IMproved 7.4 (2013 Aug 10, compiled Mar 18 2020 14:06:17)
iptables version
iptables v1.6.0
curl version
curl 7.47.0 (x86_64-pc-linux-gnu) libcurl/7.47.0 GnuTLS/3.4.10 zlib/1.2.8 libidn/1.32 librtmp/2.3
wget version
GNU Wget 1.17.1 built on linux-gnu.
rsync version
rsync  version 3.1.1  protocol version 31
gimme version
v1.5.4
nvm version
0.35.3
perlbrew version
/home/travis/perl5/perlbrew/bin/perlbrew  - App::perlbrew/0.88
phpenv version
rbenv 1.1.2-30-gc879cb0
rvm version
rvm 1.29.10 (latest) by Michal Papis, Piotr Kuczynski, Wayne E. Seguin [https://rvm.io]
default ruby version
ruby 2.5.3p105 (2018-10-18 revision 65156) [x86_64-linux]
CouchDB version
couchdb 1.6.1
ElasticSearch version
5.5.0
Installed Firefox version
firefox 63.0.1
MongoDB version
MongoDB 4.0.19
PhantomJS version
2.1.1
Pre-installed PostgreSQL versions
9.4.26
9.5.22
9.6.18
Redis version
redis-server 6.0.5
Pre-installed Go versions
1.11.1
ant version
Apache Ant(TM) version 1.9.6 compiled on July 20 2018
mvn version
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)
gradle version
Gradle 5.1.1!
lein version
Leiningen 2.9.3 on Java 11.0.2 OpenJDK 64-Bit Server VM
Pre-installed Node.js versions
v10.21.0
v11.0.0
v12.18.1
v4.9.1
v6.17.1
v8.12.0
v8.17.0
v8.9
phpenv versions
  system
  5.6
  5.6.40
  7.1
  7.1.27
  7.2
* 7.2.15 (set by /home/travis/.phpenv/version)
  hhvm
  hhvm-stable
composer --version
Composer version 1.8.4 2019-02-11 10:52:10
Pre-installed Ruby versions
ruby-2.3.8
ruby-2.4.5
ruby-2.5.3
travis_fold:end:system_infoe:end:16089b8c:start=1604009314145539316,finish=1604009314156194286,duration=10654970,event=show_system_infoe:start:01c66d46e:end:01c66d46:start=1604009314160706487,finish=1604009314184790893,duration=24084406,event=rm_riak_sourcee:start:0d44681ee:end:0d44681e:start=1604009314189241806,finish=1604009314196503357,duration=7261551,event=fix_rwky_redise:start:1aec2a28e:end:1aec2a28:start=1604009314200047091,finish=1604009314609423900,duration=409376809,event=wait_for_networke:start:0806e548e:end:0806e548:start=1604009314617101581,finish=1604009314857797663,duration=240696082,event=update_apt_keyse:start:019c4149e:end:019c4149:start=1604009314862532252,finish=1604009314917864562,duration=55332310,event=fix_hhvm_sourcee:start:347000f6e:end:347000f6:start=1604009314922857829,finish=1604009314926258499,duration=3400670,event=update_mongo_arche:start:18e9d7b0e:end:18e9d7b0:start=1604009314930677617,finish=1604009314972422274,duration=41744657,event=fix_sudo_enabled_trustye:start:1ef43b38e:end:1ef43b38:start=1604009314977055128,finish=1604009314979941336,duration=2886208,event=update_glibce:start:0fa597cee:end:0fa597ce:start=1604009314984964510,finish=1604009314994107827,duration=9143317,event=clean_up_pathe:start:0927c460e:end:0927c460:start=1604009315001263503,finish=1604009315009839231,duration=8575728,event=fix_resolv_confe:start:0fd2c9a8e:end:0fd2c9a8:start=1604009315015226080,finish=1604009315024984146,duration=9758066,event=fix_etc_hostse:start:30582c90e:end:30582c90:start=1604009315029711908,finish=1604009315043038412,duration=13326504,event=fix_mvn_settings_xmle:start:05c33866e:end:05c33866:start=1604009315049886918,finish=1604009315060204239,duration=10317321,event=no_ipv6_localhoste:start:25725ebce:end:25725ebc:start=1604009315065299090,finish=1604009315068979931,duration=3680841,event=fix_etc_mavenrce:start:1abd34b4e:end:1abd34b4:start=1604009315073771301,finish=1604009315077026717,duration=3255416,event=fix_wwdr_certificatee:start:09b9c448e:end:09b9c448:start=1604009315084741711,finish=1604009315110132825,duration=25391114,event=put_localhost_firste:start:154f3bf4e:end:154f3bf4:start=1604009315118159549,finish=1604009315121672201,duration=3512652,event=home_pathse:start:045675ace:end:045675ac:start=1604009315126643399,finish=1604009315140389010,duration=13745611,event=disable_initramfse:start:157b9a71e:end:157b9a71:start=1604009315144554973,finish=1604009315590742682,duration=446187709,event=disable_ssh_roaminge:start:035ae13ce:end:035ae13c:start=1604009315596139316,finish=1604009315598574429,duration=2435113,event=debug_toolse:start:0f4ef9d0e:end:0f4ef9d0:start=1604009315603094221,finish=1604009315606111920,duration=3017699,event=uninstall_oclinte:start:2be158f7e:end:2be158f7:start=1604009315610758113,finish=1604009315614697854,duration=3939741,event=rvm_usee:start:11d9ffe6e:end:11d9ffe6:start=1604009315622590496,finish=1604009315630916582,duration=8326086,event=rm_etc_boto_cfge:start:153a8f9fe:end:153a8f9f:start=1604009315637490817,finish=1604009315641365579,duration=3874762,event=rm_oraclejdk8_symlinke:start:203e6abbe:end:203e6abb:start=1604009315648805682,finish=1604009315751234328,duration=102428646,event=enable_i386e:start:122cb720e:end:122cb720:start=1604009315755891764,finish=1604009315762156248,duration=6264484,event=update_rubygemse:start:02330778e:end:02330778:start=1604009315769123790,finish=1604009316592729385,duration=823605595,event=ensure_path_componentse:start:012babbee:end:012babbe:start=1604009316600911633,finish=1604009316604515039,duration=3603406,event=redefine_curle:start:03aed1c8e:end:03aed1c8:start=1604009316611093952,finish=1604009316730930252,duration=119836300,event=nonblock_pipee:start:02d51f0ee:end:02d51f0e:start=1604009316735880673,finish=1604009322768114168,duration=6032233495,event=apt_get_updatee:start:03734cdce:end:03734cdc:start=1604009322772505376,finish=1604009322775639218,duration=3133842,event=deprecate_xcode_64e:start:15130dc6e:end:15130dc6:start=1604009322781592311,finish=1604009325589703935,duration=2808111624,event=update_herokue:start:24ebe4fee:end:24ebe4fe:start=1604009325597418649,finish=1604009325599952868,duration=2534219,event=shell_session_updatee:start:042fb3b8tutue:end:042fb3b8:start=1604009325604933128,finish=1604009328070790693,duration=2465857565,event=set_docker_mtue:start:0c2d321ce:end:0c2d321c:start=1604009328074893995,finish=1604009328149973087,duration=75079092,event=resolvconfe:start:0194dbc4e:end:0194dbc4:start=1604009328154107340,finish=1604009328312977356,duration=158870016,event=maven_central_mirrore:start:18a2fd78e:end:18a2fd78:start=1604009328317833950,finish=1604009328411492795,duration=93658845,event=maven_httpse:start:04362dd4e:start:0962175cctl start docker
travis_time:end:0962175c:start=1604009328419998500,finish=1604009328432943605,duration=12945105,event=preparee:end:0962175c:start=1604009328419998500,finish=1604009331439478845,duration=3019480345,event=servicese:start:090e2a28e:end:090e2a28:start=1604009331445107514,finish=1604009331447590734,duration=2483220,event=fix_ps4e:start:04b4fd52e:start:0dd00fb8/ether/[secure].git ether/[secure]
Cloning into 'ether/[secure]'...
travis_time:end:0dd00fb8:start=1604009331456940307,finish=1604009332562620013,duration=1105679706,event=checkoute:end:0dd00fb8:start=1604009331456940307,finish=1604009332631186274,duration=1174245967,event=checkoute:start:01b015f0Setting environment variables from repository settings
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

Setting environment variables from .travis.yml
$ export SAUCE_USERNAME=[secure]
$ export SAUCE_ACCESS_KEY=[secure]

travis_time:end:01b015f0:start=1604009332637567394,finish=1604009332652059863,duration=14492469,event=env.installe:start:0987a3e6 install lts/*
Downloading and installing node v14.15.0...
Downloading https://nodejs.org/dist/v14.15.0/node-v14.15.0-linux-x64.tar.xz...
Computing checksum with sha256sum
Checksums matched!
Now using node v14.15.0 (npm v6.14.8)
travis_time:end:0987a3e6:start=1604009333172319259,finish=1604009336598418981,duration=3426099722,event=setup.install --version
6.14.8
$ nvm --version
0.36.0

travis_fold:start:install.1e:start:1d54bd20plate to settings.json...
Ensure that all dependencies are up to date...  If this is the first time you have run Etherpad please be patient.

> wd@1.12.1 install /home/travis/build/ether/[secure]/src/node_modules/wd
> node scripts/build-browser-scripts

added 715 packages in 7.333s
Clearing minified cache...
travis_time:end:1d54bd20:start=1604009337121804272,finish=1604009344996588365,duration=7874784093,event=installe:start:2cbe57a3 install ep_align ep_author_hover ep_cursortrace ep_font_size ep_hash_auth ep_headings2 ep_markdown ep_spellcheck ep_subscript_and_superscript ep_table_of_contents
npm WARN saveError ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/package.json'
npm notice created a lockfile as package-lock.json. You should commit this file.
npm WARN enoent ENOENT: no such file or directory, open '/home/travis/build/ether/[secure]/package.json'
npm WARN [secure] No description
npm WARN [secure] No repository field.
npm WARN [secure] No README data
npm WARN [secure] No license field.

+ ep_align@0.2.18
+ ep_spellcheck@0.0.11
+ ep_table_of_contents@0.2.6
+ ep_markdown@0.1.10
+ ep_headings2@0.1.10
+ ep_author_hover@0.3.2
+ ep_cursortrace@3.0.10
+ ep_hash_auth@3.0.2
+ ep_subscript_and_superscript@0.2.3
+ ep_font_size@0.3.12
added 37 packages from 30 contributors and audited 993 packages in 5.722s

70 packages are looking for funding
  run `npm fund` for details

found 1 low severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
travis_time:end:2cbe57a3:start=1604009345001652430,finish=1604009351504421067,duration=6502768637,event=installe:start:0be1d2e8 install && cd -
audited 1152 packages in 4.763s

64 packages are looking for funding
  run `npm fund` for details

found 1 low severity vulnerability
  run `npm audit fix` to fix them, or `npm audit` for details
/home/travis/build/ether/[secure]
travis_time:end:0be1d2e8:start=1604009351513612818,finish=1604009356999725063,duration=5486112245,event=installe:start:09af5390ing bin/installDeps.sh has already been run
Now I will try for 15 seconds to connect to Etherpad on http://localhost:9001
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
bash: connect: Connection refused
bash: /dev/tcp/localhost/9001: Connection refused
Successfully connected to Etherpad on http://localhost:9001
Now run the backend tests

> ep_[secure]@1.8.6 test /home/travis/build/ether/[secure]/src
> nyc mocha --timeout 30000 --recursive ../tests/backend/specs ../node_modules/ep_*/static/tests/backend/specs

All relative paths will be interpreted relative to the identified Etherpad base dir: /home/travis/build/ether/[secure]
Random string used for versioning assets: 5a8145bb
[2020-10-29 22:09:23.309] [DEBUG] AbsolutePaths - Relative path "settings.json" can be rewritten to "/home/travis/build/ether/[secure]/settings.json"
[2020-10-29 22:09:23.310] [DEBUG] AbsolutePaths - Relative path "credentials.json" can be rewritten to "/home/travis/build/ether/[secure]/credentials.json"
settings loaded from: /home/travis/build/ether/[secure]/settings.json
No credentials file found in /home/travis/build/ether/[secure]/credentials.json. Ignoring.
[2020-10-29 22:09:23.328] [INFO] console - Using skin "colibris" in dir: /home/travis/build/ether/[secure]/src/static/skins/colibris
[2020-10-29 22:09:23.330] [INFO] console - Session key loaded from: /home/travis/build/ether/[secure]/SESSIONKEY.txt
[2020-10-29 22:09:23.330] [WARN] console - DirtyDB is used. This is fine for testing but not recommended for production. File location: /home/travis/build/ether/[secure]/var/dirty.db
[2020-10-29 22:09:25.197] [INFO] APIHandler - Api key file read from: "/home/travis/build/ether/[secure]/APIKEY.txt"
[2020-10-29 22:09:26.282] [ERROR] console - soffice (libreoffice) does not exist at this path, check your settings file. File location: /usr/bin/soffice


  /home/travis/build/ether/[secure]/tests/backend/specs/api/api.js
    API Versioning
      ✓ errors if can not connect
    OpenAPI definition
      ✓ generates valid openapi definition document (995ms)
    jsonp support
      ✓ supports jsonp calls

  /home/travis/build/ether/[secure]/tests/backend/specs/api/characterEncoding.js
    Connectivity For Character Encoding
      ✓ can connect
    API Versioning
      ✓ finds the version tag
    Permission
      ✓ errors with invalid APIKey
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML of a Pad attempting to weird utf8 encoded content (94ms)
    getHTML
      ✓ get the HTML of Pad with emojis

  /home/travis/build/ether/[secure]/tests/backend/specs/api/chat.js
    API Versioning
      ✓ errors if can not connect
    createPad
      ✓ creates a new Pad
    createAuthor
      ✓ Creates an author with a name set
    appendChatMessage
      ✓ Adds a chat message to the pad
    getChatHead
      ✓ Gets the head of chat
    getChatHistory
      ✓ Gets Chat History of a Pad

  /home/travis/build/ether/[secure]/tests/backend/specs/api/importexport.js
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML
    getHTML
      ✓ Gets back the HTML of a Pad
    getText
      ✓ Gets back the Text of a Pad
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML
    getHTML
      ✓ Gets back the HTML of a Pad
    getText
      ✓ Gets back the Text of a Pad
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML
    getHTML
      ✓ Gets back the HTML of a Pad
    getText
      ✓ Gets back the Text of a Pad
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML
    getHTML
      ✓ Gets back the HTML of a Pad
    getText
      ✓ Gets back the Text of a Pad
    createPad
      ✓ creates a new Pad
    setHTML
      ✓ Sets the HTML
    getHTML
      ✓ Gets back the HTML of a Pad
    getText
      ✓ Gets back the Text of a Pad

  /home/travis/build/ether/[secure]/tests/backend/specs/api/importexportGetPost.js
[2020-10-29 22:09:27.657] [WARN] test - Disabling non-test logging for the duration of the test. To enable non-test logging, change the loglevel setting to DEBUG.
    Connectivity
      ✓ can connect
    API Versioning
      ✓ finds the version tag
    Imports and Exports
      ✓ creates a new Pad, imports content to it, checks that content
      ✓ gets read only pad Id and exports the html and text for this pad
      ✓ Tries to import .etherpad
      ✓ exports Etherpad
      ✓ exports HTML for this Etherpad file
      ✓ Tries to import unsupported file type
      Import/Export tests requiring AbiWord/LibreOffice
        - Tries to import .doc that uses soffice or abiword
        - exports DOC
        - Tries to import .docx that uses soffice or abiword
        - exports DOC from imported DOCX
        - Tries to import .pdf that uses soffice or abiword
        - exports PDF
        - Tries to import .odt that uses soffice or abiword
        - exports ODT
      Import authorization checks
        ✓ !authn !exist -> create
        ✓ !authn exist -> replace
        ✓ authn anonymous !exist -> fail
        ✓ authn anonymous exist -> fail
        ✓ authn user create !exist -> create
        ✓ authn user modify !exist -> fail
        ✓ authn user readonly !exist -> fail
        ✓ authn user create exist -> replace
        ✓ authn user modify exist -> replace
        ✓ authn user readonly exist -> fail

  /home/travis/build/ether/[secure]/tests/backend/specs/api/instance.js
    Connectivity for instance-level API tests
      ✓ can connect
    getStats
      ✓ Gets the stats of a running instance

  /home/travis/build/ether/[secure]/tests/backend/specs/api/pad.js
    Connectivity
      ✓ can connect
    API Versioning
      ✓ finds the version tag
    Permission
      ✓ errors with invalid APIKey
    deletePad
      ✓ deletes a Pad
    createPad
      ✓ creates a new Pad
    getRevisionsCount
      ✓ gets revision count of Pad
    getSavedRevisionsCount
      ✓ gets saved revisions count of Pad
    listSavedRevisions
      ✓ gets saved revision list of Pad
    getHTML
      ✓ get the HTML of Pad
    listAllPads
      ✓ list all pads
    deletePad
      ✓ deletes a Pad
    listAllPads
      ✓ list all pads
    getHTML
      ✓ get the HTML of a Pad -- Should return a failure
    createPad
      ✓ creates a new Pad with text
    getText
      ✓ gets the Pad text and expect it to be testText with 
 which is a line break
    setText
      ✓ creates a new Pad with text
    getText
      ✓ gets the Pad text
    getRevisionsCount
      ✓ gets Revision Count of a Pad
    saveRevision
      ✓ saves Revision
    getSavedRevisionsCount
      ✓ gets saved revisions count of Pad
    listSavedRevisions
      ✓ gets saved revision list of Pad
    padUsersCount
      ✓ gets User Count of a Pad
    getReadOnlyID
      ✓ Gets the Read Only ID of a Pad
    listAuthorsOfPad
      ✓ Get Authors of the Pad
    getLastEdited
      ✓ Get When Pad was left Edited
    setText
      ✓ creates a new Pad with text
    getLastEdited
      ✓ Get When Pad was left Edited
    padUsers
      ✓ gets User Count of a Pad
    deletePad
      ✓ deletes a Pad
    createPad
      ✓ creates a new Pad with text
    setText
      ✓ Sets text on a pad Id
    getText
      ✓ Gets text on a pad Id
    setText
      ✓ Sets text on a pad Id including an explicit newline
    getText
      ✓ Gets text on a pad Id and doesn't have an excess newline
    getLastEdited
      ✓ Gets when pad was last edited
    movePad
      ✓ Move a Pad to a different Pad ID
    getText
      ✓ Gets text on a pad Id
    movePad
      ✓ Move a Pad to a different Pad ID
    getText
      ✓ Gets text on a pad Id
    getLastEdited
      ✓ Gets when pad was last edited
    appendText
      ✓ Append text to a pad Id
    getText
      ✓ Gets text on a pad Id
    setHTML
      ✓ Sets the HTML of a Pad attempting to pass ugly HTML
    setHTML
      ✓ Sets the HTML of a Pad with complex nested lists of different types
    getHTML
      ✓ Gets back the HTML of a Pad with complex nested lists of different types
    setHTML
      ✓ Sets the HTML of a Pad with white space between list items
    getHTML
      ✓ Gets back the HTML of a Pad with complex nested lists of different types
    createPad
      ✓ errors if pad can be created
    copyPad
      ✓ copies the content of a existent pad
    copyPadWithoutHistory
      ✓ returns a successful response
      ✓ creates a new pad with the same content as the source pad
      when try copy a pad with a group that does not exist
        ✓ throws an error
      when try copy a pad and destination pad already exist
        and force is false
          ✓ throws an error
        and force is true
          ✓ returns a successful response

  /home/travis/build/ether/[secure]/tests/backend/specs/api/sessionsAndGroups.js
    API Versioning
      ✓ errors if can not connect
    API: Group creation and deletion
      ✓ createGroup
      ✓ listSessionsOfGroup for empty group
      ✓ deleteGroup
      ✓ createGroupIfNotExistsFor
    API: Author creation
      ✓ createGroup
      ✓ createAuthor
      ✓ createAuthor with name
      ✓ createAuthorIfNotExistsFor
      ✓ getAuthorName
    API: Sessions
      ✓ createSession
      ✓ getSessionInfo
      ✓ listSessionsOfGroup
      ✓ deleteSession
      ✓ getSessionInfo of deleted session
    API: Group pad management
      ✓ listPads
      ✓ createGroupPad
      ✓ listPads after creating a group pad
    API: Pad security
      ✓ getPublicStatus
      ✓ setPublicStatus
      ✓ getPublicStatus after changing public status
    API: Misc
      ✓ listPadsOfAuthor

  /home/travis/build/ether/[secure]/tests/backend/specs/api/tidy.js
    tidyHtml
      - Tidies HTML
      - can deal with errors

  /home/travis/build/ether/[secure]/tests/backend/specs/contentcollector.js
    nestedLi
      ✓ Complex nested Li
    complexNest
      ✓ Complex list of different types
    ul
      ✓ Tests if uls properly get attributes
    ulIndented
      ✓ Tests if indented uls properly get attributes
    ol
      ✓ Tests if ols properly get line numbers when in a normal OL
    lineDoBreakInOl
      ✓ A single completely empty line break within an ol should reset count if OL is closed off..
    bulletListInOL
      ✓ A bullet within an OL should not change numbering..
    testP
      ✓ A single <p></p> should create a new line
    nestedOl
      - DISABLED:
    lineDontBreakOL
      - DISABLED:

  /home/travis/build/ether/[secure]/tests/backend/specs/hooks.js
    callHookFnSync
      basic behavior
        ✓ passes hook name
        ✓ passes context
        ✓ returns the value provided to the callback
        ✓ returns the value returned by the hook function
        ✓ does not catch exceptions
        ✓ callback returns undefined
        ✓ checks for deprecation
      supported hook function styles
        ✓ return non-Promise value, with callback parameter
        ✓ return non-Promise value, without callback parameter
        ✓ return undefined, without callback parameter
        ✓ pass non-Promise value to callback
        ✓ pass undefined to callback
        ✓ return the value returned from the callback
        ✓ throw
      bad hook function behavior (other than double settle)
        ✓ never settles -> buggy hook detected
        ✓ returns a Promise -> buggy hook detected
        ✓ passes a Promise to cb -> buggy hook detected
      bad hook function behavior (double settle)
        ✓ immediately call cb(value) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return value (same outcome) -> only log
        ✓ immediately call cb(value) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(value) (same outcome) -> only log
        ✓ immediately call cb(value) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(value) (same outcome) -> only log
        ✓ defer call to cb(value) then throw (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return value (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return value (same outcome) -> only log
        ✓ defer call to cb(value) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(value) (same outcome) -> only log
    hooks.callAll
      basic behavior
        ✓ calls all in order
        ✓ passes hook name
        ✓ undefined context -> {}
        ✓ null context -> {}
        ✓ context unmodified
      result processing
        ✓ no registered hooks (undefined) -> []
        ✓ no registered hooks (empty list) -> []
        ✓ flattens one level
        ✓ filters out undefined
        ✓ preserves null
        ✓ all undefined -> []
    callHookFnAsync
      basic behavior
        ✓ passes hook name
        ✓ passes context
        ✓ returns the value provided to the callback
        ✓ returns the value returned by the hook function
        ✓ rejects if it throws an exception
        ✓ rejects if rejected Promise passed to callback
        ✓ rejects if rejected Promise returned
        ✓ callback returns undefined
        ✓ checks for deprecation
      supported hook function styles
        ✓ return non-Promise value, with callback parameter
        ✓ return non-Promise value, without callback parameter
        ✓ return undefined, without callback parameter
        ✓ pass non-Promise value to callback
        ✓ pass undefined to callback
        ✓ return the value returned from the callback
        ✓ throw
        ✓ return non-Promise value, with callback parameter
        ✓ return non-Promise value, without callback parameter
        ✓ return undefined, without callback parameter
        ✓ pass non-Promise value to callback
        ✓ pass undefined to callback
        ✓ return the value returned from the callback
        ✓ throw
        ✓ legacy async cb
        ✓ return resolved Promise, with callback parameter
        ✓ return resolved Promise, without callback parameter
        ✓ pass resolved Promise to callback
        ✓ return unresolved Promise, with callback parameter
        ✓ return unresolved Promise, without callback parameter
        ✓ pass unresolved Promise to callback
        ✓ return rejected Promise, with callback parameter
        ✓ return rejected Promise, without callback parameter
        ✓ pass rejected Promise to callback
        ✓ return unrejected Promise, with callback parameter
        ✓ return unrejected Promise, without callback parameter
        ✓ pass unrejected Promise to callback
      bad hook function behavior (double settle)
        ✓ immediately call cb(value) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return value (same outcome) -> only log
        ✓ immediately call cb(value) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(value) (same outcome) -> only log
        ✓ immediately call cb(value) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return resolvedPromise (same outcome) -> only log
        ✓ immediately call cb(value) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(value) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then return unresolvedPromise (same outcome) -> only log
        ✓ immediately call cb(value) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(value) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(value) (same outcome) -> only log
        ✓ immediately call cb(value) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(value) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(value) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(value) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then return value (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then immediately call cb(value) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then return resolvedPromise (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then return unresolvedPromise (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then defer call to cb(value) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(resolvedPromise) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(resolvedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then throw (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then return rejectedPromise (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then immediately call cb(rejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then return unrejectedPromise (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then immediately call cb(unrejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then defer call to cb(rejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(rejectedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(rejectedPromise) then defer call cb(unrejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then return value (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(value) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then return resolvedPromise (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then return unresolvedPromise (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(value) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unresolvedPromise) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ immediately call cb(unresolvedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then throw (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then throw (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then return value (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then return rejectedPromise (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(rejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then return unrejectedPromise (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then immediately call cb(unrejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then defer call to cb(rejectedPromise) (same outcome) -> only log
        ✓ immediately call cb(unrejectedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ immediately call cb(unrejectedPromise) then defer call cb(unrejectedPromise) (same outcome) -> only log
        ✓ defer call to cb(value) then throw (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return value (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return value (same outcome) -> only log
        ✓ defer call to cb(value) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(value) (same outcome) -> only log
        ✓ defer call to cb(value) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return resolvedPromise (same outcome) -> only log
        ✓ defer call to cb(value) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(value) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then return unresolvedPromise (same outcome) -> only log
        ✓ defer call to cb(value) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(value) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then defer call to cb(value) (same outcome) -> only log
        ✓ defer call to cb(value) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(value) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(value) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(value) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then throw (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then return value (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then return value (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then immediately call cb(value) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then return resolvedPromise (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then return unresolvedPromise (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then defer call to cb(value) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(resolvedPromise) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(resolvedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then throw (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then throw (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then return value (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then return rejectedPromise (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then immediately call cb(rejectedPromise) (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then return unrejectedPromise (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then immediately call cb(unrejectedPromise) (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then defer call to cb(rejectedPromise) (same outcome) -> only log
        ✓ defer call to cb(rejectedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(rejectedPromise) then defer call cb(unrejectedPromise) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then throw (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then return value (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then return value (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(value) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then return resolvedPromise (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then return unresolvedPromise (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(value) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(resolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call to cb(unresolvedPromise) then defer call to cb(unresolvedPromise) (same outcome) -> only log
        ✓ defer call to cb(unresolvedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then throw (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then throw (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then return value (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then immediately call cb(value) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then return resolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then immediately call cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then return rejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then return rejectedPromise (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then immediately call cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then immediately call cb(rejectedPromise) (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then return unresolvedPromise (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then immediately call cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then return unrejectedPromise (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then return unrejectedPromise (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then immediately call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then immediately call cb(unrejectedPromise) (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then defer call to cb(value) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then defer call to cb(resolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then defer call to cb(rejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then defer call to cb(rejectedPromise) (same outcome) -> only log
        ✓ defer call cb(unrejectedPromise) then defer call to cb(unresolvedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then defer call cb(unrejectedPromise) (diff. outcomes) -> log+throw
        ✓ defer call cb(unrejectedPromise) then defer call cb(unrejectedPromise) (same outcome) -> only log
    hooks.aCallAll
      basic behavior
        ✓ calls all asynchronously, returns values in order
        ✓ passes hook name
        ✓ undefined context -> {}
        ✓ null context -> {}
        ✓ context unmodified
      aCallAll callback
        ✓ exception in callback rejects
        ✓ propagates error on exception
        ✓ propagages null error on success
        ✓ propagages results on success
        ✓ returns callback return value
      result processing
        ✓ no registered hooks (undefined) -> []
        ✓ no registered hooks (empty list) -> []
        ✓ flattens one level
        ✓ filters out undefined
        ✓ preserves null
        ✓ all undefined -> []

  /home/travis/build/ether/[secure]/tests/backend/specs/promises.js
    promises.timesLimit
      ✓ honors concurrency
      ✓ creates another when one completes
      ✓ creates the expected total number of promises
      ✓ resolves
      ✓ does not create too many promises if total < concurrency
      ✓ accepts total === 0, concurrency > 0
      ✓ accepts total === 0, concurrency === 0
      ✓ rejects total > 0, concurrency === 0

  /home/travis/build/ether/[secure]/tests/backend/specs/socketio.js
    socket.io access checks
      Normal accesses
        ✓ !authn anonymous cookie /p/pad -> 200, ok (123ms)
        ✓ !authn !cookie -> ok
        ✓ !authn user /p/pad -> 200, ok (65ms)
        ✓ authn user /p/pad -> 200, ok (53ms)
        ✓ authz user /p/pad -> 200, ok (41ms)
        ✓ supports pad names with characters that must be percent-encoded
      Abnormal access attempts
        ✓ authn anonymous /p/pad -> 401, error
        ✓ authn !cookie -> error
        ✓ authorization bypass attempt -> error
      Authorization levels via authorize hook
        ✓ level='create' -> can create
        ✓ level=true -> can create
        ✓ level='modify' -> can modify
        ✓ level='create' settings.editOnly=true -> unable to create
        ✓ level='modify' settings.editOnly=false -> unable to create
        ✓ level='readOnly' -> unable to create
        ✓ level='readOnly' -> unable to modify
      Authorization levels via user settings
        ✓ user.canCreate = true -> can create and modify
        ✓ user.canCreate = false -> unable to create
        ✓ user.readOnly = true -> unable to create
        ✓ user.readOnly = true -> unable to modify
        ✓ user.readOnly = false -> can create and modify
        ✓ user.readOnly = true, user.canCreate = true -> unable to create
      Authorization level interaction between authorize hook and user settings
        ✓ authorize hook does not elevate level from user settings
        ✓ user settings does not elevate level from authorize hook

  /home/travis/build/ether/[secure]/tests/backend/specs/webaccess.js
    webaccess: without plugins
      ✓ !authn !authz anonymous / -> 200
      ✓ !authn !authz anonymous /admin/ -> 401
      ✓ authn !authz anonymous / -> 401
      ✓ authn !authz user / -> 200
      ✓ authn !authz user /admin/ -> 403
      ✓ authn !authz admin / -> 200
      ✓ authn !authz admin /admin/ -> 200
      ✓ authn authz user / -> 403
      ✓ authn authz user /admin/ -> 403
      ✓ authn authz admin / -> 200
      ✓ authn authz admin /admin/ -> 200
    webaccess: preAuthorize, authenticate, and authorize hooks
      preAuthorize
        ✓ defers if it returns []
        ✓ bypasses authenticate and authorize hooks when true is returned
        ✓ bypasses authenticate and authorize hooks when false is returned
        ✓ bypasses authenticate and authorize hooks for static content, defers
        ✓ cannot grant access to /admin
        ✓ can deny access to /admin
        ✓ runs preAuthzFailure hook when access is denied
        ✓ returns 500 if an exception is thrown
      authenticate
        ✓ is not called if !requireAuthentication and not /admin/*
        ✓ is called if !requireAuthentication and /admin/*
        ✓ defers if empty list returned
        ✓ does not defer if return [true], 200
        ✓ does not defer if return [false], 401
        ✓ falls back to HTTP basic auth
        ✓ passes settings.users in context
        ✓ passes user, password in context if provided
        ✓ does not pass user, password in context if not provided
        ✓ errors if req.session.user is not created
        ✓ returns 500 if an exception is thrown
      authorize
        ✓ is not called if !requireAuthorization (non-/admin)
        ✓ is not called if !requireAuthorization (/admin)
        ✓ defers if empty list returned
        ✓ does not defer if return [true], 200
        ✓ does not defer if return [false], 403
        ✓ passes req.path in context
        ✓ returns 500 if an exception is thrown
    webaccess: authnFailure, authzFailure, authFailure hooks
      ✓ authn fail, no hooks handle -> 401
      ✓ authn fail, authnFailure handles
      ✓ authn fail, authFailure handles
      ✓ authnFailure trumps authFailure
      ✓ authz fail, no hooks handle -> 403
      ✓ authz fail, authzFailure handles
      ✓ authz fail, authFailure handles
      ✓ authzFailure trumps authFailure

  export alignment to HTML
    when pad text is center aligned
      ✓ returns ok
      ✓ returns HTML with Subscript HTML tags
    when pad text is justified aligned
      ✓ returns ok
      ✓ returns HTML with Subscript HTML tags
    when pad text is right aligned
      ✓ returns ok
      ✓ returns HTML with Subscript HTML tags
    when pad text is left aligned
      ✓ returns ok
      ✓ returns HTML with Subscript HTML tags

  Automated Backend test!
    ✓ Is a test template that should pass

  export headings to HTML
    when pad text has one Heading
      ✓ returns ok
      ✓ returns HTML with Headings HTML tags
    when pad text has multiple Headings on multiple lines
      ✓ returns ok
      ✓ returns HTML with Multiple Headings HTML tags

  Import and Export markdown
    when text has formatting
      ✓ returns ok
      ✓ returns Markdown correctly

  export Subscript to HTML
    when pad text has one Subscript
      ✓ returns ok
      ✓ returns HTML with Subscript HTML tags
    when pad text has multiple Subscripts on multiple lines
      ✓ returns ok
      ✓ returns HTML with Multiple Subscripts HTML tags

  export Superscript to HTML
    when pad text has one Superscript
      ✓ returns ok
      ✓ returns HTML with Suberscript HTML tags
    when pad text has multiple Superscripts on multiple lines
      ✓ returns ok
      ✓ returns HTML with Multiple Superscripts HTML tags


  573 passing (9s)
  12 pending

------------------------|---------|----------|---------|---------|----------------------------------
File                    | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                
------------------------|---------|----------|---------|---------|----------------------------------
All files               |   46.56 |    36.01 |   44.39 |   46.91 |                                  
 node                   |   71.25 |    26.32 |   55.56 |   79.17 |                                  
  padaccess.js          |      70 |    33.33 |     100 |      70 | 15-20                            
  server.js             |    69.7 |       25 |   42.86 |   79.31 | 70-72,118-129                    
  stats.js              |     100 |      100 |     100 |     100 |                                  
 node/db                |   42.68 |    25.41 |   34.39 |   42.84 |                                  
  API.js                |   31.37 |     12.5 |   10.81 |    31.5 | ...7-848,856,861,869,874,885-912 
  AuthorManager.js      |   63.33 |    27.78 |      50 |   65.52 | ...7,159,168,178,193-203,214-231 
  DB.js                 |   89.29 |       50 |     100 |   89.29 | 45-47                            
  GroupManager.js       |   15.79 |        0 |       0 |   16.67 | ...6-111,117-137,143-166,171-182 
  Pad.js                |   43.71 |    33.33 |   31.37 |   44.37 | ...4,554-561,572,593-594,599-615 
  PadManager.js         |   64.86 |    35.71 |   73.33 |   62.86 | ...92,98-100,116,122-128,152-154 
  ReadOnlyManager.js    |     100 |    66.67 |     100 |     100 | 71-72                            
  SecurityManager.js    |      70 |     61.9 |      50 |   69.64 | 53-54,61,84-85,101-102,115-131   
  SessionManager.js     |   14.85 |     2.04 |    9.09 |   14.29 | ...8-186,195-220,227-233,239-277 
  SessionStore.js       |   76.47 |       50 |      75 |   76.47 | 26-29,40-41                      
 node/eejs              |   91.18 |    83.33 |   69.23 |   91.04 |                                  
  index.js              |   91.18 |    83.33 |   69.23 |   91.04 | 43,53,92,130,138,147             
 node/handler           |   39.18 |    32.25 |   37.66 |   40.02 |                                  
  APIHandler.js         |   85.71 |    57.14 |     100 |   85.71 | 40-42,165,170,177,188            
  ExportHandler.js      |   58.62 |       50 |      50 |   60.71 | 39,44,62,92-130,138              
  ImportHandler.js      |   76.03 |    61.11 |   66.67 |   76.47 | ...3-180,194,221,228-231,260,285 
  PadMessageHandler.js  |      23 |    19.52 |   19.61 |   23.66 | ...1150,1167-1430,1451,1461-1479 
  SocketIORouter.js     |   86.67 |       75 |     100 |   86.67 | 72-73,76-77                      
 node/hooks             |   61.84 |    29.63 |      55 |   64.75 |                                  
  express.js            |   74.36 |       50 |     100 |   75.68 | 31,37,51-52,58-76,86,104,117     
  i18n.js               |   48.65 |    10.71 |   35.71 |   52.31 | ...0,72-75,88,97,112-117,122-123 
 node/hooks/express     |   63.71 |    56.62 |    45.3 |    63.8 |                                  
  admin.js              |   85.71 |       50 |     100 |     100 | 5                                
  adminplugins.js       |   21.43 |        0 |   10.53 |   22.73 | 11-17,21-24,37-112,120-130       
  adminsettings.js      |   35.48 |        0 |   22.22 |   37.93 | 9-15,25-53                       
  apicalls.js           |   52.63 |      100 |   33.33 |   52.63 | 9-11,17-24                       
  errorhandling.js      |     100 |       50 |     100 |     100 | 12                               
  importexport.js       |   84.44 |    70.59 |      75 |   84.44 | 15,28,34-38,54-55                
  isValidJSONPName.js   |      30 |        0 |       0 |      30 | 71-82                            
  openapi.js            |   70.18 |       50 |   45.45 |   70.54 | ...6,607-618,645,651-675,681-682 
  padreadonly.js        |   42.86 |        0 |      50 |   42.86 | 10-22                            
  padurlsanitize.js     |      50 |       50 |     100 |   52.94 | 10-11,21-26                      
  socketio.js           |   95.45 |       50 |     100 |   95.45 | 45                               
  specialpages.js       |   57.58 |    33.33 |      30 |   57.58 | 11,23,30-37,64-68,77-85          
  static.js             |   64.29 |      100 |      20 |   64.29 | 41-56                            
  tests.js              |   27.78 |        0 |    6.25 |   29.41 | ...28-40,44-52,57-58,62,71-88,93 
  webaccess.js          |   94.85 |    92.05 |     100 |   96.33 | 31-33,116-117                    
 node/utils             |   47.62 |    32.89 |   42.86 |   48.05 |                                  
  AbsolutePaths.js      |   75.61 |    63.16 |     100 |   75.61 | ...56-57,100,104-105,115-116,131 
  Cli.js                |   71.43 |       60 |     100 |   69.23 | 34,39,44,49                      
  ExportEtherpad.js     |      96 |       80 |     100 |   95.65 | 31                               
  ExportHelper.js       |   64.44 |    61.11 |      50 |   65.91 | 24-43,88                         
  ExportHtml.js         |   61.83 |    44.53 |   65.22 |   61.11 | ...0,524-527,539,566-567,576-579 
  ExportTxt.js          |   52.59 |    22.92 |   85.71 |   53.21 | ...5,154,173-174,203,209,214-251 
  ImportEtherpad.js     |   81.82 |       50 |     100 |   81.82 | 28,43-47                         
  ImportHtml.js         |   15.22 |        0 |       0 |   15.22 | 26-105                           
  Minify.js             |   38.94 |    32.95 |   29.55 |   40.91 | ...4,370,372-388,391-400,410,412 
  NodeVersion.js        |   72.73 |       50 |     100 |   72.73 | 34-35,51                         
  Settings.js           |   69.87 |    37.07 |   78.57 |   69.87 | ...0,738-772,780-788,814-819,834 
  TidyHtml.js           |      20 |        0 |       0 |      20 | 10-39                            
  UpdateCheck.js        |   57.69 |       20 |   66.67 |   65.22 | 16,23-24,30-34,40-41             
  caching_middleware.js |   17.14 |     3.45 |     8.7 |   17.82 | 43,52-61,69-70,85-216            
  customError.js        |      25 |        0 |       0 |      25 | 17-19                            
  padDiff.js            |    5.37 |        0 |       0 |    5.49 | ...8-211,217-221,226-253,258-481 
  path_exists.js        |     100 |    33.33 |     100 |     100 | 4                                
  promises.js           |   60.87 |    66.67 |   33.33 |   66.67 | 10-35                            
  randomstring.js       |     100 |      100 |     100 |     100 |                                  
  toolbar.js            |   79.27 |    85.19 |   72.41 |   79.01 | ...2,125-126,131-158,241-245,251 
 static/js              |   34.29 |    29.82 |   37.86 |   34.49 |                                  
  AttributeManager.js   |    7.19 |        0 |       0 |    7.53 | 34-36,48-419                     
  AttributePool.js      |   79.07 |    57.14 |      75 |   82.93 | 52-56,72-74                      
  Changeset.js          |   32.81 |     24.8 |   43.06 |   32.83 | ...2180-2207,2211-2237,2247-2322 
  ChangesetUtils.js     |   16.67 |        0 |       0 |   16.67 | 23-33,39-49,55-58                
  ace2_common.js        |   28.57 |        0 |       0 |   33.33 | 27-80                            
  contentcollector.js   |   61.96 |    56.23 |      74 |   62.61 | ...2-704,713,744,756-758,804-852 
  pad_utils.js          |    7.34 |     1.85 |    2.33 |    7.01 | 45-475,483-537,547-550,557-567   
  security.js           |     100 |      100 |     100 |     100 |                                  
  underscore.js         |     100 |      100 |     100 |     100 |                                  
 static/js/pluginfw     |    71.1 |    64.26 |   70.68 |   74.15 |                                  
  hooks.js              |   79.77 |    76.47 |   82.93 |   85.71 | 48-51,59-63,301,363-366,398-406  
  installer.js          |   17.11 |        0 |       0 |    19.4 | ...34,42-52,62-72,81-101,108-132 
  plugin_defs.js        |     100 |      100 |     100 |     100 |                                  
  plugins.js            |    90.1 |       80 |   82.14 |      90 | 17-20,24,64-65,141-144,152,155   
  read-installed.js     |   76.58 |    74.58 |      92 |   80.45 | ...0-161,195,243,280-284,303-334 
  shared.js             |   79.07 |       60 |     100 |   78.57 | 17-20,53-57,63-66                
  tsort.js              |   59.26 |    68.75 |   66.67 |   59.09 | 44,61-102                        
------------------------|---------|----------|---------|---------|----------------------------------
travis_time:end:09af5390:start=1604009357006436595,finish=1604009375626173278,duration=18619736683,event=scriptThe command "tests/frontend/travis/runnerBackend.sh" exited with 0.


Done. Your build exited with 0.
